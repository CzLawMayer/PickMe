/* =========================
   Library.css (scoped, clean)
   ========================= */

/* --- Page tokens --- */
.library-app {
  --ink: #fff;
  --app-header-h: 64px;
  --pad-x: 28px;
  --icon-box: 40px;
  --icon-size: 22px;

  --hero-min-h: clamp(96px, 12vw, 168px);
  --hero-gap: clamp(12px, 2vw, 24px);
  --tab-h: clamp(36px, 4.2vw, 52px);
  --tab-radius: clamp(18px, 2.8vw, 28px);
}

/* --- App frame --- */
.library-app {
  min-height: 100svh;
  color: var(--ink);
  display: flex;
  flex-direction: column;
}

/* Header */
.library-app > .header {
  height: var(--app-header-h);
  padding: 0 var(--pad-x);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #000;
  box-sizing: border-box;
  z-index: 900;
}
.header .logo { margin: 0; font-size: 28px; font-weight: 800; line-height: 1; }
.header .logo .logo-link { display: inline-block; line-height: 1; color: inherit; text-decoration: none; }
.header .header-icons { display: grid; grid-auto-flow: column; align-items: center; gap: 12px; }
.header .icon {
  display: inline-grid; place-items: center;
  width: var(--icon-box); height: var(--icon-box);
  font-size: var(--icon-size);
  background: transparent; border: 0; color: inherit; border-radius: 8px; cursor: pointer;
}

/* --- Body layout (content + right rail) --- */
.library-layout {
  display: grid;
  grid-template-columns: 1fr 340px;
  min-height: calc(100svh - var(--app-header-h));
}
.library-left { display: flex; flex-direction: column; min-width: 0; }

/* --- Top banner (identity + tabs) --- */
.lib-hero {
  display: grid !important;
  grid-template-columns: minmax(420px, auto) 1fr !important; /* identity | tabs */
  align-items: center;
  column-gap: clamp(32px, 5vw, 65px);
  min-height: var(--hero-min-h);
  padding: clamp(10px, 1.4vw, 18px) var(--pad-x);
  background: #121212;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

/* Identity block */
.library-app .lib-hero .identity-cell { min-width: 420px !important; width: auto !important; }
.library-app .lib-hero .profile-card {
  display: grid !important;
  grid-template-columns: auto 1fr !important;
  align-items: center;
  column-gap: clamp(10px, 1.6vw, 14px);
}
.library-app .lib-hero .profile-id { min-width: 0 !important; }
.library-app .lib-hero .profile-name,
.library-app .lib-hero .profile-handle { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Avatar (round, no border) */
.library-app .lib-hero .profile-card .profile-avatar {
  width: 100px !important; height: 100px !important; border: 0 !important; border-radius: 50% !important;
  overflow: hidden; aspect-ratio: 1 / 1 !important;
}
.library-app .lib-hero .profile-card .profile-avatar img,
.library-app .lib-hero .profile-card .profile-avatar svg { width: 100% !important; height: 100% !important; object-fit: cover; }

/* Tabs row */
.lib-tabs {
  display: flex; align-items: center; justify-content: flex-start;
  gap: clamp(10px, 1.6vw, 16px);
  flex-wrap: wrap; white-space: normal; min-width: 0;
  margin-left: clamp(32px, 4vw, 100px);
}
.lib-tab {
  display: inline-flex; align-items: center; justify-content: center;
  height: var(--tab-h);
  padding-inline: clamp(14px, calc(var(--tab-h) * 0.5), 28px);
  border-radius: var(--tab-radius);
  font-weight: 800; font-size: clamp(14px, calc(var(--tab-h) * 0.34), 18px); line-height: 1;
  background: #111; color: #fff; text-decoration: none;
  border: 1px solid rgba(255,255,255,.06);
  transition: transform 120ms ease, filter 120ms ease;
  cursor: pointer;
}
.lib-tab:hover { transform: translateY(-1px); filter: brightness(1.05); }
.lib-tab:active { transform: translateY(0); }
.lib-tab.is-active,
.lib-tab[aria-current="page"] { background: #ff4081; border-color: transparent; color: #fff; }

/* --- Responsive hero tweaks --- */
@media (max-width: 820px) {
  .lib-hero { grid-template-columns: 1fr !important; row-gap: 12px; }
  .lib-tabs { margin-left: 0; }
}
@media (max-width: 600px) { .lib-tabs { margin-left: clamp(18px, 3vw, 36px); } }
@media (max-width: 420px) {
  .lib-hero { grid-template-columns: minmax(360px, auto) 1fr !important; }
  .library-app .lib-hero .identity-cell { min-width: 360px !important; }
  .lib-tabs { margin-left: clamp(10px, 2vw, 22px); }
  .lib-tab {
    height: clamp(28px, 7vw, 38px);
    padding-inline: clamp(6px, 1.8vw, 14px);
    font-size: clamp(11px, 3.4vw, 14px);
  }
}

/* =========================
   Work area (4 equal cols)
   ========================= */
.library-app .lib-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  padding: 16px var(--pad-x);
  align-items: start;
  min-width: 0;
}
@media (max-width: 820px) { .library-app .lib-row { gap: 12px; } }
.library-app .lib-col { min-width: 0; }

/* Card: cover + 5 lines (grid) — fixed height */
.library-app .lib-card {
  container-type: inline-size;
  container-name: libcol;

  --card-h: clamp(135px, 40cqw, 180px) !important;
  --rows: 5;
  --row-gap: 8px;
  --row-h: calc((var(--card-h) - ((var(--rows) - 1) * var(--row-gap))) / var(--rows));

  display: grid;
  grid-template-columns: calc(var(--card-h) * 2 / 3) 1fr; /* cover | details */
  gap: 12px;
  height: var(--card-h);
  min-width: 0;
  overflow: hidden;
}

/* Cover (2:3 ratio, stretches to card height) */
.library-app .lib-cover {
  width: 100%; height: 100%;
  background: #2a2a2a; border-radius: 4px; overflow: hidden;
}
.lib-cover {
  position: relative;
  width: 100%;
  background-color: #111;
  overflow: hidden;
  display: block;
}
.lib-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.lib-cover.is-selected::after {
  content: "";
  position: absolute;
  inset: 0;
  border: 2px solid var(--accent-blue, #3af);
  pointer-events: none;
}

/* Details: 5 equal rows (fixed) */
.library-app .lib-details {
  display: grid; grid-template-rows: repeat(5, 1fr);
  gap: var(--row-gap); height: 100%; min-width: 0;
  overflow: hidden;
}

/* Generic line block (trimmed; later we zero inside details) */
.library-app .lib-line {
  display: flex; align-items: center;
  padding: 8px 10px;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 6px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;
}
@media (max-width: 720px) {
  .library-app .lib-card { gap: 10px; }
  .library-app .lib-details { gap: 6px; }
  .library-app .lib-line { padding: 6px 8px; }
}

/* =========================
   Inline actions (icons + counts)
   ========================= */
.lib-row-actions.is-inline {
  display: flex; align-items: center; justify-content: flex-start;
  gap: 8px !important;
  min-width: 0;
  overflow: visible;
  font-size: 16px;
  padding: 0 !important;
}
.lib-row-actions.is-inline .meta-icon-btn {
  display: inline-flex !important;
  align-items: center !important;
  flex-direction: row !important;
  flex-wrap: nowrap !important;
  gap: 4px !important;
  padding: 0 !important;
  flex: 0 0 auto;
  white-space: nowrap;
}
.lib-row-actions.is-inline .meta-icon-btn > * {
  display: inline-block !important;
  width: auto !important;
  flex: 0 0 auto !important;
}
.lib-row-actions.is-inline .meta-icon-glyph { font-size: 1.78em !important; line-height: 1; }
.lib-row-actions.is-inline .meta-icon-count { font-size: 1.14em !important; line-height: 1; margin-left: 2px !important; }
.meta-icon-btn.is-active.like .meta-icon-glyph { --ms-fill: 1; color: #d81b60; }
.meta-icon-btn.is-active.save .meta-icon-glyph { --ms-fill: 1; color: #6a1b9a; }
.meta-icon-btn.is-active.star .meta-icon-glyph { --ms-fill: 1; color: #f2ac15; }
.lib-row-actions.is-inline .meta-icon-btn:hover .meta-icon-glyph { filter: drop-shadow(0 0 .4px rgba(255,255,255,.35)); }
.lib-row-actions.is-inline .meta-icon-btn:active .meta-icon-glyph { transform: translateY(1px) scale(.98); }

@media (max-width: 520px) {
  .lib-row-actions.is-inline { flex-wrap: wrap; row-gap: 10px; }
}
@container libcol (max-width: 660px) {
  .lib-row-actions.is-inline { font-size: clamp(12px, 2.2cqw, 16px); gap: 6px !important; }
  .lib-row-actions.is-inline .meta-icon-btn { gap: 3px !important; }
}
@container libcol (max-width: 520px) {
  .lib-row-actions.is-inline { font-size: clamp(11px, 2.8cqw, 15px); gap: 5px !important; }
  .lib-row-actions.is-inline .meta-icon-btn { gap: 2px !important; }
}
@container libcol (max-width: 420px) {
  .lib-row-actions.is-inline { font-size: clamp(10px, 3.4cqw, 14px); gap: 4px !important; }
}

/* =========================
   STAR POPOVER (floating)
   ========================= */
.pm-star-portal {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1600;
}
.pm-star-surface {
  position: fixed;
  top: var(--pm-top, 0px);
  left: var(--pm-left, 0px);
  transform: translate(-50%, -10px);
  pointer-events: auto;
  background: rgba(20, 20, 20, 0.96);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 10px;
  padding: 10px 12px;
  box-shadow: 0 10px 28px rgba(0,0,0,.5);
  min-width: 180px;
}
.star-popover {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translate(-50%, -8px);
  background: rgba(20, 20, 20, 0.95);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 10px;
  padding: 8px 10px;
  box-shadow: 0 8px 22px rgba(0,0,0,.45);
  z-index: 10;
  min-width: 160px;
}
.star-popover-floating {
  position: fixed;
  z-index: 2000;
  background: rgba(20, 20, 20, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 10px !important;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.45) !important;
  padding: 8px 10px !important;
  min-width: 160px !important;
  max-width: 220px;
  display: inline-block !important;
  box-sizing: border-box;
  overflow: visible;
}
.star-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}
.star-item {
  appearance: none;
  background: transparent;
  border: none;
  padding: 4px;
  cursor: pointer;
  line-height: 1;
  border-radius: 6px;
  transition: transform 100ms ease;
}
.star-item:hover { transform: scale(1.1); }
.star-hint { text-align: center; font-size: 12px; opacity: .85; margin-top: 6px; }
.star-popover-floating .material-symbols-outlined { font-size: 28px; color: #f2ac15; }
.star-popover-floating .material-symbols-outlined[style*="--ms-fill: 0"] { color: inherit; }

/* (Optional) legacy .lib-actions */
.library-app .lib-actions {
  display: inline-flex; align-items: center;
  gap: 8px !important; white-space: nowrap; min-width: 0; overflow: hidden; height: 100%;
  font-size: clamp(12px, 1.6vw, 16px) !important;
}
.library-app .lib-actions .meta-icon-btn {
  display: inline-flex !important; align-items: center !important;
  height: var(--row-h) !important; max-height: var(--row-h) !important;
  padding: 0 !important; gap: clamp(2px, 0.6vw, 6px) !important;
  white-space: nowrap; box-sizing: border-box; overflow: hidden; flex: 0 0 auto;
}
.library-app .lib-actions .meta-icon-glyph { font-size: 1em !important; line-height: 1; }
.library-app .lib-actions .meta-icon-count { font-size: 0.85em !important; line-height: 1; margin-left: 4px; }
@media (max-width: 900px) { .library-app .lib-actions { font-size: clamp(11px, 1.8vw, 14px) !important; } }
@media (max-width: 700px) { .library-app .lib-actions { font-size: clamp(10px, 2.4vw, 13px) !important; } }

/* =========================
   Global meta-icon button base
   ========================= */
.meta-icon-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  background: transparent;
  border: 0;
  padding: 0;
  line-height: 1;
  font: inherit;
  color: inherit;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  outline: none;
}
.meta-icon-glyph { font-size: 1.78em; line-height: 1; }
.meta-icon-count { font-size: 1.14em; line-height: 1; margin-left: 2px; }
.meta-icon-btn:active .meta-icon-glyph { transform: scale(0.95); }
.meta-icon-btn:focus { outline: none; box-shadow: none; }

/* =========================
   Scroll behavior for the books grid
   ========================= */

/* Lock outer scroll; only left column's grid scrolls inside .lib-scroll */
html, body, .library-app { height: 100svh; overflow: hidden; }

.library-layout {
  min-height: calc(100svh - var(--app-header-h));
  max-height: calc(100svh - var(--app-header-h));
  overflow: hidden;
}

/* left column (hero + scrollable books) */
.library-left {
  display: flex;
  flex-direction: column;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
}

/* Only the books section scrolls */
.lib-scroll {
  flex: 1 1 auto;
  min-height: 0;
  max-height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* scrollbar styling */
  scrollbar-width: thin;
  scrollbar-color: #fff transparent;
}
.lib-scroll::-webkit-scrollbar { width: 6px; background: transparent; }
.lib-scroll::-webkit-scrollbar-track { background: transparent; }
.lib-scroll::-webkit-scrollbar-thumb { background: #fff; border-radius: 3px; }
.lib-scroll::-webkit-scrollbar-button { display: none; width: 0; height: 0; }

/* Selection outlines */
.lib-card.is-selected { outline: 2px solid var(--accent-blue, #3af); outline-offset: 0; }

/* =========================
   Feature panel cover alignment
   ========================= */
.feature-jump {
  position: absolute;
  right: calc(100% + 25px);
  top: 50%;
  transform: translateY(-50%);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: auto;
  min-width: 0;
  padding: 0 !important;
  margin: 0;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  line-height: 1;
  white-space: nowrap;
}
.feature-jump::before,
.feature-jump::after { content: none !important; }

.feature-cover-row { display: flex; justify-content: center; align-items: center; }
.feature-cover-link { display: inline-block; }
.feature-cover-placeholder { margin: 0 auto; max-width: 100%; }

/* =========================
   LIBRARY CARDS: tight alignment for icon + count
   (final overrides — highest priority)
   ========================= */
.library-app .lib-card .lib-row-actions.is-inline {
  display: flex !important;
  align-items: baseline !important;
  gap: 6px !important;
  line-height: 1 !important;
  padding: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  font-size: 13px !important;
}
.library-app .lib-card .meta-icon-btn {
  display: inline-flex !important;
  align-items: start !important;
  gap: 1px !important;
  padding: 0 !important;
  height: auto !important;
  min-height: 0 !important;
  line-height: 1 !important;
}
.library-app .lib-card .meta-icon-btn .material-symbols-outlined,
.library-app .lib-card .meta-icon-btn .meta-icon-glyph {
  display: block !important;
  font-size: 14px !important;
  line-height: 1 !important;
}
.library-app .lib-card .meta-icon-btn .meta-icon-count {
  display: block !important;
  font-size: 13px !important;
  line-height: 1 !important;
  margin-left: 2px !important;
  transform: none !important;
}

/* === Library card titles: hard clamp to 2 lines with ellipsis === */
.library-app .lib-details > .lib-line.lib-title-line {
  white-space: normal !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-box-orient: vertical !important;
  -webkit-line-clamp: 2 !important;
  line-clamp: 2 !important;
  max-height: none !important;
}

/* Make the Save icon a touch bigger without shifting layout */
.library-app .lib-card .meta-icon-btn.save .meta-icon-glyph {
  transform: scale(1.12);
  transform-origin: center;
}

/* Zero out padding/margins inside the right-side info (year/author included) */
.library-app .lib-card .lib-details .lib-line {
  padding: 0 !important;
  margin: 0 !important;
  border: 0 !important;
  background: transparent !important;
  border-radius: 0 !important;
}
/* Explicitly kill the year/author margins (overrides inline margin-top on year) */
.library-app .lib-card .lib-details .lib-year-line,
.library-app .lib-card .lib-details .lib-author-line {
  padding: 0 !important;
  margin: 0 !important;
  margin-top: 0 !important;
}
/* Remove any earlier title/author/stars row tweaks that added margins */
.library-app .lib-details > .lib-line:nth-child(1),
.library-app .lib-details > .lib-line:nth-child(3),
.library-app .lib-details > .lib-line:nth-child(5) { margin: 0 !important; }

/* Slightly increase font size for the year and author name */
.library-app .lib-card .lib-details .lib-year-line {
  font-size: 13px !important;
  line-height: 1.2 !important;
  font-weight: 500 !important;
}
.library-app .lib-card .lib-details .lib-author-line {
  font-size: 14px !important;
  line-height: 1.3 !important;
  font-weight: 500 !important;
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Stars / actions tight spacing (final) */
.lib-card .lib-details { height: auto !important; min-height: 0 !important; overflow: visible !important; display: grid; grid-template-rows: auto auto auto auto auto; align-content: start; }
.lib-card .lib-row-actions.is-inline {
  gap: 6px !important;
  margin-top: 6px !important;
  margin-bottom: 0 !important;
  min-height: 16px !important;
  height: 16px !important;
}
.lib-card .meta-icon-btn {
  padding: 0 3px !important;
  min-height: 16px !important;
  height: 16px !important;
  gap: 3px !important;
  font-size: 11px !important;
}
.lib-card .meta-icon-glyph,
.lib-card .meta-icon-count { font-size: 11px !important; line-height: 1 !important; }
.lib-card .meta-icon-btn .material-symbols-outlined { font-size: 14px !important; line-height: 1 !important; }
.lib-card .lib-line.user-stars-row {
  margin-top: -2px !important;
  margin-bottom: 0 !important;
  min-height: 16px !important;
  height: 16px !important;
  line-height: 1 !important;
  display: flex !important;
  align-items: center !important;
  padding: 0 !important;
  overflow: visible !important;
}
.lib-card .user-stars-row .user-stars-wrap {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  line-height: 1 !important;
  min-height: 16px !important;
  height: 16px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  color: #fff !important;
}
.lib-card .user-stars-row .user-stars-wrap span {
  display: block !important;
  font-size: 14px !important;
  line-height: 1 !important;
  color: #f2ac15 !important;
}

/* Misc tweaks */
.library-app .lib-cover { border-radius: 0 !important; } /* square covers */
.user-stars, .user-stars * { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important; }

/* === Library hero: make the 4 bars a bit wider === */
.library-app .lib-hero .profile-bars {
  width: 80% !important; /* was ~75% inline; bump this to make each bar wider */
}

/* (optional) nudge a bit more or less by tweaking this value:
   82% (subtle), 88% (moderate), 94% (wide) */









/* === Hero row: add a 3rd column for the CTA on the far right === */
.lib-hero {
  grid-template-columns: minmax(420px, auto) 1fr auto !important; /* identity | tabs | CTA */
}

/* keep the CTA anchored to the right edge */
.lib-hero-cta {
  justify-self: end;
  align-self: center;
}

/* simple pill button matching tab aesthetics */
.lib-cta {
  height: var(--tab-h);
  padding-inline: clamp(14px, calc(var(--tab-h) * 0.5), 28px);
  border-radius: var(--tab-radius);
  font-weight: 800;
  font-size: clamp(14px, calc(var(--tab-h) * 0.34), 18px);
  line-height: 1;
  background: #ff4081;
  color: #fff;
  border: 1px solid transparent;
  cursor: pointer;
  transition: transform 120ms ease, filter 120ms ease;
}
.lib-cta:hover { transform: translateY(-1px); filter: brightness(1.05); }
.lib-cta:active { transform: translateY(0); }

/* responsive: stack into a new row on narrow screens */
@media (max-width: 820px) {
  .lib-hero {
    grid-template-columns: 1fr !important;
    row-gap: 10px;
  }
  .lib-hero-cta { justify-self: start; }
}



/* === Sort dropdown (hero CTA) === */
.lib-hero {
  grid-template-columns: minmax(420px, auto) 1fr auto !important;
  position: relative; /* anchor for menu if needed */
}

.lib-hero-cta {
  position: relative;
  justify-self: end;
  align-self: center;
}

/* button looks like your tabs */
.lib-cta.lib-cta--filter {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.lib-cta-caret {
  font-size: 1.1em;
  line-height: 1;
}

/* floating menu */
.lib-filter-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 220px;
  background: rgba(20,20,20,0.98);
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 12px;
  box-shadow: 0 14px 28px rgba(0,0,0,0.45);
  padding: 6px;
  z-index: 1200;
  backdrop-filter: saturate(1.2) blur(4px);
}

.lib-filter-item {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: transparent;
  border: 0;
  color: #fff;
  text-align: left;
  font-weight: 600;
  cursor: pointer;
  border-radius: 8px;
}

.lib-filter-item:hover,
.lib-filter-item:focus {
  background: rgba(255,255,255,0.08);
  outline: none;
}

/* narrow screens: stack hero, keep menu readable */
@media (max-width: 820px) {
  .lib-hero-cta { justify-self: start; }
  .lib-filter-menu { right: auto; left: 0; }
}


/* icon left of label */
.lib-cta--filter {
  color: #e3e3e3; /* your requested icon/text color */
}

.lib-cta-icon {
  font-size: 1.2em;
  line-height: 1;
  display: inline-block;
}

/* Icon-only CTA button */
.lib-cta--icon{
  display:inline-grid;
  place-items:center;
  width:40px; height:40px;        /* match your header icon box if you like */
  padding:0;
  border:1px solid rgba(255,255,255,.14);
  border-radius:10px;
  background:#111;
  color:#e3e3e3;
  cursor:pointer;
}
.lib-cta--icon .material-symbols-outlined{
  font-size:22px; line-height:1;
}
.lib-cta--icon:hover{ filter:brightness(1.1); }
.lib-cta--icon:active{ transform:translateY(1px); }

/* (Optional) keep your existing dropdown positioning; if you need a nudge: */
.lib-sort-menu{
  /* example anchor to the button’s right/under — adjust only if needed */
  position:absolute;
  top:100%;
  right:0;
  margin-top:8px;
}

/* Icon-only CTA — no bg, no border, bigger glyph */
.lib-cta--icon{
  display:inline-grid;
  place-items:center;
  padding:0;
  margin-right:0px;
  background:transparent !important;
  border:0 !important;
  box-shadow:none !important;
  color:#e3e3e3;
  cursor:pointer;
  outline:none !important;
}
.lib-cta--icon .material-symbols-outlined{
  font-size:45px;   /* bigger icon */
  line-height:1;
}

/* Optional: subtle affordance without box */
.lib-cta--icon:hover   { filter:brightness(1.15); }
.lib-cta--icon:active  { transform:translateY(1px); filter:brightness(1.0); }

/* Make the grid column truly tight, no implicit gap */
.library-layout{
  grid-template-columns: 1fr 340px;
  gap: 0; /* ensure no grid gap */
}

/* Fill the right column exactly; no centering, no extra width */
aside.library-feature{
  display: flex;
  align-items: stretch;
  justify-content: stretch;   /* <- fill, don't center */
  padding: 0 !important;
  margin: 0 !important;
  min-width: 0;               /* prevent overflow push */
  overflow: hidden;           /* avoid horizontal jiggle */
}

/* Feature card must expand to the column width */
aside.library-feature .feature-card{
  flex: 1 1 auto;
  width: 100% !important;
  max-width: none !important;
  height: 100%;
  margin: 0 !important;
  box-sizing: border-box;
  background: #000;           /* keep your right rail solid */
  box-shadow: none;
}

/* Safety: nothing inside should force extra width */
aside.library-feature .feature-card *{
  max-width: 100%;
}

/* If anything inside tries to stick out (like the jump chevron), keep layout stable */
.feature-cover-row{ overflow: hidden; }

.lib-tabs {
  margin: 0 !important;
  padding: 0 !important;
  display: flex;
  justify-content: center;
  align-items: center;
}

