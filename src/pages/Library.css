/* =========================
   Library.css (scoped, clean)
   ========================= */

/* --- Page tokens --- */
.library-app {
  --ink: #fff;
  --app-header-h: 64px;
  --pad-x: 28px;
  --icon-box: 40px;
  --icon-size: 22px;

  --hero-min-h: clamp(96px, 12vw, 168px);
  --hero-gap: clamp(12px, 2vw, 24px);
  --tab-h: clamp(36px, 4.2vw, 52px);
  --tab-radius: clamp(18px, 2.8vw, 28px);
}

/* --- App frame --- */
.library-app {
  min-height: 100svh;
  color: var(--ink);
  display: flex;
  flex-direction: column;
}

/* Header */
.library-app > .header {
  height: var(--app-header-h);
  padding: 0 var(--pad-x);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #000;
  box-sizing: border-box;
  z-index: 900;
}
.header .logo { margin: 0; font-size: 28px; font-weight: 800; line-height: 1; }
.header .logo .logo-link { display: inline-block; line-height: 1; color: inherit; text-decoration: none; }
.header .header-icons { display: grid; grid-auto-flow: column; align-items: center; gap: 12px; }
.header .icon {
  display: inline-grid; place-items: center;
  width: var(--icon-box); height: var(--icon-box);
  font-size: var(--icon-size);
  background: transparent; border: 0; color: inherit; border-radius: 8px; cursor: pointer;
}

/* --- Body layout (content + right rail) --- */
.library-layout {
  display: grid;
  grid-template-columns: 1fr 340px;
  min-height: calc(100svh - var(--app-header-h));
}
.library-left { display: flex; flex-direction: column; min-width: 0; }

/* --- Top banner (identity + tabs) --- */
.lib-hero {
  display: grid !important;
  grid-template-columns: minmax(420px, auto) 1fr !important; /* identity | tabs */
  align-items: center;
  column-gap: clamp(32px, 5vw, 65px);
  min-height: var(--hero-min-h);
  padding: clamp(10px, 1.4vw, 18px) var(--pad-x);
  background: #121212;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

/* Identity block */
.library-app .lib-hero .identity-cell { min-width: 420px !important; width: auto !important; }
.library-app .lib-hero .profile-card {
  display: grid !important;
  grid-template-columns: auto 1fr !important;
  align-items: center;
  column-gap: clamp(10px, 1.6vw, 14px);
}
.library-app .lib-hero .profile-id { min-width: 0 !important; }
.library-app .lib-hero .profile-name,
.library-app .lib-hero .profile-handle { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Avatar (round, no border) */
.library-app .lib-hero .profile-card .profile-avatar {
  width: 100px !important; height: 100px !important; border: 0 !important; border-radius: 50% !important;
  overflow: hidden; aspect-ratio: 1 / 1 !important;
}
.library-app .lib-hero .profile-card .profile-avatar img,
.library-app .lib-hero .profile-card .profile-avatar svg { width: 100% !important; height: 100% !important; object-fit: cover; }

/* Tabs row */
.lib-tabs {
  display: flex; align-items: center; justify-content: flex-start;
  gap: clamp(10px, 1.6vw, 16px);
  flex-wrap: wrap; white-space: normal; min-width: 0;
  margin-left: clamp(32px, 4vw, 100px);
}
.lib-tab {
  display: inline-flex; align-items: center; justify-content: center;
  height: var(--tab-h);
  padding-inline: clamp(14px, calc(var(--tab-h) * 0.5), 28px);
  border-radius: var(--tab-radius);
  font-weight: 800; font-size: clamp(14px, calc(var(--tab-h) * 0.34), 18px); line-height: 1;
  background: #111; color: #fff; text-decoration: none;
  border: 1px solid rgba(255,255,255,.06);
  transition: transform 120ms ease, filter 120ms ease;
  cursor: pointer;
}
.lib-tab:hover { transform: translateY(-1px); filter: brightness(1.05); }
.lib-tab:active { transform: translateY(0); }
.lib-tab.is-active,
.lib-tab[aria-current="page"] { background: #ff4081; border-color: transparent; color: #fff; }

/* --- Responsive hero tweaks --- */
@media (max-width: 820px) {
  .lib-hero { grid-template-columns: 1fr !important; row-gap: 12px; }
  .lib-tabs { margin-left: 0; }
}
@media (max-width: 600px) { .lib-tabs { margin-left: clamp(18px, 3vw, 36px); } }
@media (max-width: 420px) {
  .lib-hero { grid-template-columns: minmax(360px, auto) 1fr !important; }
  .library-app .lib-hero .identity-cell { min-width: 360px !important; }
  .lib-tabs { margin-left: clamp(10px, 2vw, 22px); }
  .lib-tab {
    height: clamp(28px, 7vw, 38px);
    padding-inline: clamp(6px, 1.8vw, 14px);
    font-size: clamp(11px, 3.4vw, 14px);
  }
}

/* =========================
   Work area (4 equal cols)
   ========================= */
.library-app .lib-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  padding: 16px var(--pad-x);
  align-items: start;
  min-width: 0;
}
@media (max-width: 820px) { .library-app .lib-row { gap: 12px; } }
.library-app .lib-col { min-width: 0; }

/* Card: cover + 5 lines (grid) — fixed height */
.library-app .lib-card {
  container-type: inline-size;
  container-name: libcol;

  --card-h: clamp(135px, 40cqw, 180px) !important;
  --rows: 5;
  --row-gap: 8px;
  --row-h: calc((var(--card-h) - ((var(--rows) - 1) * var(--row-gap))) / var(--rows));

  display: grid;
  grid-template-columns: calc(var(--card-h) * 2 / 3) 1fr; /* cover | details */
  gap: 12px;
  height: var(--card-h);
  min-width: 0;
  overflow: hidden;
}

/* Cover (2:3 ratio, stretches to card height) */
.library-app .lib-cover {
  width: 100%; height: 100%;
  background: #2a2a2a; border-radius: 4px; overflow: hidden;
}
.lib-cover {
  position: relative;
  width: 100%;
  background-color: #111;
  overflow: hidden;
  display: block;
}
.lib-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.lib-cover.is-selected::after {
  content: "";
  position: absolute;
  inset: 0;
  border: 2px solid var(--accent-blue, #3af);
  pointer-events: none;
}

/* Details: 5 equal rows (fixed) */
.library-app .lib-details {
  display: grid; grid-template-rows: repeat(5, 1fr);
  gap: var(--row-gap); height: 100%; min-width: 0;
  overflow: hidden;
}

/* Generic line block (trimmed; later we zero inside details) */
.library-app .lib-line {
  display: flex; align-items: center;
  padding: 8px 10px;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 6px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.2;
}
@media (max-width: 720px) {
  .library-app .lib-card { gap: 10px; }
  .library-app .lib-details { gap: 6px; }
  .library-app .lib-line { padding: 6px 8px; }
}

/* =========================
   Inline actions (icons + counts)
   ========================= */
.lib-row-actions.is-inline {
  display: flex; align-items: center; justify-content: flex-start;
  gap: 8px !important;
  min-width: 0;
  overflow: visible;
  font-size: 16px;
  padding: 0 !important;
}
.lib-row-actions.is-inline .meta-icon-btn {
  display: inline-flex !important;
  align-items: center !important;
  flex-direction: row !important;
  flex-wrap: nowrap !important;
  gap: 4px !important;
  padding: 0 !important;
  flex: 0 0 auto;
  white-space: nowrap;
}
.lib-row-actions.is-inline .meta-icon-btn > * {
  display: inline-block !important;
  width: auto !important;
  flex: 0 0 auto !important;
}
.lib-row-actions.is-inline .meta-icon-glyph { font-size: 1.78em !important; line-height: 1; }
.lib-row-actions.is-inline .meta-icon-count { font-size: 1.14em !important; line-height: 1; margin-left: 2px !important; }
.meta-icon-btn.is-active.like .meta-icon-glyph { --ms-fill: 1; color: #d81b60; }
.meta-icon-btn.is-active.save .meta-icon-glyph { --ms-fill: 1; color: #6a1b9a; }
.meta-icon-btn.is-active.star .meta-icon-glyph { --ms-fill: 1; color: #f2ac15; }
.lib-row-actions.is-inline .meta-icon-btn:hover .meta-icon-glyph { filter: drop-shadow(0 0 .4px rgba(255,255,255,.35)); }
.lib-row-actions.is-inline .meta-icon-btn:active .meta-icon-glyph { transform: translateY(1px) scale(.98); }

@media (max-width: 520px) {
  .lib-row-actions.is-inline { flex-wrap: wrap; row-gap: 10px; }
}
@container libcol (max-width: 660px) {
  .lib-row-actions.is-inline { font-size: clamp(12px, 2.2cqw, 16px); gap: 6px !important; }
  .lib-row-actions.is-inline .meta-icon-btn { gap: 3px !important; }
}
@container libcol (max-width: 520px) {
  .lib-row-actions.is-inline { font-size: clamp(11px, 2.8cqw, 15px); gap: 5px !important; }
  .lib-row-actions.is-inline .meta-icon-btn { gap: 2px !important; }
}
@container libcol (max-width: 420px) {
  .lib-row-actions.is-inline { font-size: clamp(10px, 3.4cqw, 14px); gap: 4px !important; }
}

/* =========================
   STAR POPOVER (floating)
   ========================= */
.pm-star-portal {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1600;
}
.pm-star-surface {
  position: fixed;
  top: var(--pm-top, 0px);
  left: var(--pm-left, 0px);
  transform: translate(-50%, -10px);
  pointer-events: auto;
  background: rgba(20, 20, 20, 0.96);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 10px;
  padding: 10px 12px;
  box-shadow: 0 10px 28px rgba(0,0,0,.5);
  min-width: 180px;
}
.star-popover {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translate(-50%, -8px);
  background: rgba(20, 20, 20, 0.95);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: 10px;
  padding: 8px 10px;
  box-shadow: 0 8px 22px rgba(0,0,0,.45);
  z-index: 10;
  min-width: 160px;
}
.star-popover-floating {
  position: fixed;
  z-index: 2000;
  background: rgba(20, 20, 20, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 10px !important;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.45) !important;
  padding: 8px 10px !important;
  min-width: 160px !important;
  max-width: 220px;
  display: inline-block !important;
  box-sizing: border-box;
  overflow: visible;
}
.star-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}
.star-item {
  appearance: none;
  background: transparent;
  border: none;
  padding: 4px;
  cursor: pointer;
  line-height: 1;
  border-radius: 6px;
  transition: transform 100ms ease;
}
.star-item:hover { transform: scale(1.1); }
.star-hint { text-align: center; font-size: 12px; opacity: .85; margin-top: 6px; }
.star-popover-floating .material-symbols-outlined { font-size: 28px; color: #f2ac15; }
.star-popover-floating .material-symbols-outlined[style*="--ms-fill: 0"] { color: inherit; }

/* (Optional) legacy .lib-actions */
.library-app .lib-actions {
  display: inline-flex; align-items: center;
  gap: 8px !important; white-space: nowrap; min-width: 0; overflow: hidden; height: 100%;
  font-size: clamp(12px, 1.6vw, 16px) !important;
}
.library-app .lib-actions .meta-icon-btn {
  display: inline-flex !important; align-items: center !important;
  height: var(--row-h) !important; max-height: var(--row-h) !important;
  padding: 0 !important; gap: clamp(2px, 0.6vw, 6px) !important;
  white-space: nowrap; box-sizing: border-box; overflow: hidden; flex: 0 0 auto;
}
.library-app .lib-actions .meta-icon-glyph { font-size: 1em !important; line-height: 1; }
.library-app .lib-actions .meta-icon-count { font-size: 0.85em !important; line-height: 1; margin-left: 4px; }
@media (max-width: 900px) { .library-app .lib-actions { font-size: clamp(11px, 1.8vw, 14px) !important; } }
@media (max-width: 700px) { .library-app .lib-actions { font-size: clamp(10px, 2.4vw, 13px) !important; } }

/* =========================
   Global meta-icon button base
   ========================= */
.meta-icon-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  background: transparent;
  border: 0;
  padding: 0;
  line-height: 1;
  font: inherit;
  color: inherit;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  outline: none;
}
.meta-icon-glyph { font-size: 1.78em; line-height: 1; }
.meta-icon-count { font-size: 1.14em; line-height: 1; margin-left: 2px; }
.meta-icon-btn:active .meta-icon-glyph { transform: scale(0.95); }
.meta-icon-btn:focus { outline: none; box-shadow: none; }

/* =========================
   Scroll behavior for the books grid
   ========================= */

/* Lock outer scroll; only left column's grid scrolls inside .lib-scroll */
html, body, .library-app { height: 100svh; overflow: hidden; }

.library-layout {
  min-height: calc(100svh - var(--app-header-h));
  max-height: calc(100svh - var(--app-header-h));
  overflow: hidden;
}

/* left column (hero + scrollable books) */
.library-left {
  display: flex;
  flex-direction: column;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
}

/* Only the books section scrolls */
.lib-scroll {
  flex: 1 1 auto;
  min-height: 0;
  max-height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* scrollbar styling */
  scrollbar-width: thin;
  scrollbar-color: #fff transparent;
}
.lib-scroll::-webkit-scrollbar { width: 6px; background: transparent; }
.lib-scroll::-webkit-scrollbar-track { background: transparent; }
.lib-scroll::-webkit-scrollbar-thumb { background: #fff; border-radius: 3px; }
.lib-scroll::-webkit-scrollbar-button { display: none; width: 0; height: 0; }

/* Selection outlines */
.lib-card.is-selected { outline: 2px solid var(--accent-blue, #3af); outline-offset: 0; }

/* =========================
   Feature panel cover alignment
   ========================= */
.feature-jump {
  position: absolute;
  right: calc(100% + 25px);
  top: 50%;
  transform: translateY(-50%);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: auto;
  min-width: 0;
  padding: 0 !important;
  margin: 0;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  line-height: 1;
  white-space: nowrap;
}
.feature-jump::before,
.feature-jump::after { content: none !important; }

.feature-cover-row { display: flex; justify-content: center; align-items: center; }
.feature-cover-link { display: inline-block; }
.feature-cover-placeholder { margin: 0 auto; max-width: 100%; }

/* =========================
   LIBRARY CARDS: tight alignment for icon + count
   (final overrides — highest priority)
   ========================= */
.library-app .lib-card .lib-row-actions.is-inline {
  display: flex !important;
  align-items: baseline !important;
  gap: 6px !important;
  line-height: 1 !important;
  padding: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  font-size: 13px !important;
}
.library-app .lib-card .meta-icon-btn {
  display: inline-flex !important;
  align-items: start !important;
  gap: 1px !important;
  padding: 0 !important;
  height: auto !important;
  min-height: 0 !important;
  line-height: 1 !important;
}
.library-app .lib-card .meta-icon-btn .material-symbols-outlined,
.library-app .lib-card .meta-icon-btn .meta-icon-glyph {
  display: block !important;
  font-size: 14px !important;
  line-height: 1 !important;
}
.library-app .lib-card .meta-icon-btn .meta-icon-count {
  display: block !important;
  font-size: 13px !important;
  line-height: 1 !important;
  margin-left: 2px !important;
  transform: none !important;
}

/* === Library card titles: hard clamp to 2 lines with ellipsis === */
.library-app .lib-details > .lib-line.lib-title-line {
  white-space: normal !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-box-orient: vertical !important;
  -webkit-line-clamp: 2 !important;
  line-clamp: 2 !important;
  max-height: none !important;
}

/* Make the Save icon a touch bigger without shifting layout */
.library-app .lib-card .meta-icon-btn.save .meta-icon-glyph {
  transform: scale(1.12);
  transform-origin: center;
}

/* Zero out padding/margins inside the right-side info (year/author included) */
.library-app .lib-card .lib-details .lib-line {
  padding: 0 !important;
  margin: 0 !important;
  border: 0 !important;
  background: transparent !important;
  border-radius: 0 !important;
}
/* Explicitly kill the year/author margins (overrides inline margin-top on year) */
.library-app .lib-card .lib-details .lib-year-line,
.library-app .lib-card .lib-details .lib-author-line {
  padding: 0 !important;
  margin: 0 !important;
  margin-top: 0 !important;
}
/* Remove any earlier title/author/stars row tweaks that added margins */
.library-app .lib-details > .lib-line:nth-child(1),
.library-app .lib-details > .lib-line:nth-child(3),
.library-app .lib-details > .lib-line:nth-child(5) { margin: 0 !important; }

/* Slightly increase font size for the year and author name */
.library-app .lib-card .lib-details .lib-year-line {
  font-size: 13px !important;
  line-height: 1.2 !important;
  font-weight: 500 !important;
}
.library-app .lib-card .lib-details .lib-author-line {
  font-size: 14px !important;
  line-height: 1.3 !important;
  font-weight: 500 !important;
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Stars / actions tight spacing (final) */
.lib-card .lib-details { height: auto !important; min-height: 0 !important; overflow: visible !important; display: grid; grid-template-rows: auto auto auto auto auto; align-content: start; }
.lib-card .lib-row-actions.is-inline {
  gap: 6px !important;
  margin-top: 6px !important;
  margin-bottom: 0 !important;
  min-height: 16px !important;
  height: 16px !important;
}
.lib-card .meta-icon-btn {
  padding: 0 3px !important;
  min-height: 16px !important;
  height: 16px !important;
  gap: 3px !important;
  font-size: 11px !important;
}
.lib-card .meta-icon-glyph,
.lib-card .meta-icon-count { font-size: 11px !important; line-height: 1 !important; }
.lib-card .meta-icon-btn .material-symbols-outlined { font-size: 14px !important; line-height: 1 !important; }
.lib-card .lib-line.user-stars-row {
  margin-top: -2px !important;
  margin-bottom: 0 !important;
  min-height: 16px !important;
  height: 16px !important;
  line-height: 1 !important;
  display: flex !important;
  align-items: center !important;
  padding: 0 !important;
  overflow: visible !important;
}
.lib-card .user-stars-row .user-stars-wrap {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  line-height: 1 !important;
  min-height: 16px !important;
  height: 16px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  color: #fff !important;
}
.lib-card .user-stars-row .user-stars-wrap span {
  display: block !important;
  font-size: 14px !important;
  line-height: 1 !important;
  color: #f2ac15 !important;
}

/* Misc tweaks */
.library-app .lib-cover { border-radius: 0 !important; } /* square covers */
.user-stars, .user-stars * { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important; }

/* === Library hero: make the 4 bars a bit wider === */
.library-app .lib-hero .profile-bars {
  width: 80% !important; /* was ~75% inline; bump this to make each bar wider */
}

/* (optional) nudge a bit more or less by tweaking this value:
   82% (subtle), 88% (moderate), 94% (wide) */









/* === Hero row: add a 3rd column for the CTA on the far right === */
.lib-hero {
  grid-template-columns: minmax(420px, auto) 1fr auto !important; /* identity | tabs | CTA */
}

/* keep the CTA anchored to the right edge */
.lib-hero-cta {
  justify-self: end;
  align-self: center;
}

/* simple pill button matching tab aesthetics */
.lib-cta {
  height: var(--tab-h);
  padding-inline: clamp(14px, calc(var(--tab-h) * 0.5), 28px);
  border-radius: var(--tab-radius);
  font-weight: 800;
  font-size: clamp(14px, calc(var(--tab-h) * 0.34), 18px);
  line-height: 1;
  background: #ff4081;
  color: #fff;
  border: 1px solid transparent;
  cursor: pointer;
  transition: transform 120ms ease, filter 120ms ease;
}
.lib-cta:hover { transform: translateY(-1px); filter: brightness(1.05); }
.lib-cta:active { transform: translateY(0); }

/* responsive: stack into a new row on narrow screens */
@media (max-width: 820px) {
  .lib-hero {
    grid-template-columns: 1fr !important;
    row-gap: 10px;
  }
  .lib-hero-cta { justify-self: start; }
}



/* === Sort dropdown (hero CTA) === */
.lib-hero {
  grid-template-columns: minmax(420px, auto) 1fr auto !important;
  position: relative; /* anchor for menu if needed */
}

.lib-hero-cta {
  position: relative;
  justify-self: end;
  align-self: center;
}

/* button looks like your tabs */
.lib-cta.lib-cta--filter {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.lib-cta-caret {
  font-size: 1.1em;
  line-height: 1;
}

/* floating menu */
.lib-filter-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  min-width: 220px;
  background: rgba(20,20,20,0.98);
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 12px;
  box-shadow: 0 14px 28px rgba(0,0,0,0.45);
  padding: 6px;
  z-index: 1200;
  backdrop-filter: saturate(1.2) blur(4px);
}

.lib-filter-item {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: transparent;
  border: 0;
  color: #fff;
  text-align: left;
  font-weight: 600;
  cursor: pointer;
  border-radius: 8px;
}

.lib-filter-item:hover,
.lib-filter-item:focus {
  background: rgba(255,255,255,0.08);
  outline: none;
}

/* narrow screens: stack hero, keep menu readable */
@media (max-width: 820px) {
  .lib-hero-cta { justify-self: start; }
  .lib-filter-menu { right: auto; left: 0; }
}


/* icon left of label */
.lib-cta--filter {
  color: #e3e3e3; /* your requested icon/text color */
}

.lib-cta-icon {
  font-size: 1.2em;
  line-height: 1;
  display: inline-block;
}

/* Icon-only CTA button */
.lib-cta--icon{
  display:inline-grid;
  place-items:center;
  width:40px; height:40px;        /* match your header icon box if you like */
  padding:0;
  border:1px solid rgba(255,255,255,.14);
  border-radius:10px;
  background:#111;
  color:#e3e3e3;
  cursor:pointer;
}
.lib-cta--icon .material-symbols-outlined{
  font-size:22px; line-height:1;
}
.lib-cta--icon:hover{ filter:brightness(1.1); }
.lib-cta--icon:active{ transform:translateY(1px); }

/* (Optional) keep your existing dropdown positioning; if you need a nudge: */
.lib-sort-menu{
  /* example anchor to the button’s right/under — adjust only if needed */
  position:absolute;
  top:100%;
  right:0;
  margin-top:8px;
}

/* Icon-only CTA — no bg, no border, bigger glyph */
.lib-cta--icon{
  display:inline-grid;
  place-items:center;
  padding:0;
  margin-right:0px;
  background:transparent !important;
  border:0 !important;
  box-shadow:none !important;
  color:#e3e3e3;
  cursor:pointer;
  outline:none !important;
}
.lib-cta--icon .material-symbols-outlined{
  font-size:45px;   /* bigger icon */
  line-height:1;
}

/* Optional: subtle affordance without box */
.lib-cta--icon:hover   { filter:brightness(1.15); }
.lib-cta--icon:active  { transform:translateY(1px); filter:brightness(1.0); }

/* Make the grid column truly tight, no implicit gap */
.library-layout{
  grid-template-columns: 1fr 340px;
  gap: 0; /* ensure no grid gap */
}

/* Fill the right column exactly; no centering, no extra width */
aside.library-feature{
  display: flex;
  align-items: stretch;
  justify-content: stretch;   /* <- fill, don't center */
  padding: 0 !important;
  margin: 0 !important;
  min-width: 0;               /* prevent overflow push */
  overflow: hidden;           /* avoid horizontal jiggle */
}

/* Feature card must expand to the column width */
aside.library-feature .feature-card{
  flex: 1 1 auto;
  width: 100% !important;
  max-width: none !important;
  height: 100%;
  margin: 0 !important;
  box-sizing: border-box;
  background: #000;           /* keep your right rail solid */
  box-shadow: none;
}

/* Safety: nothing inside should force extra width */
aside.library-feature .feature-card *{
  max-width: 100%;
}

/* If anything inside tries to stick out (like the jump chevron), keep layout stable */
.feature-cover-row{ overflow: hidden; }

.lib-tabs {
  margin: 0 !important;
  padding: 0 !important;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* — Restore hero height (slightly shorter) — */
.lib-hero {
  min-height: clamp(84px, 9vw, 116px) !important;
  padding: clamp(8px, 1vw, 12px) var(--pad-x) !important;
}

/* — Put avatar/name/bars back to top-left — */
.library-app .lib-hero .identity-cell {
  display: block !important;
  min-width: 420px !important;   /* keep your original width guard */
}

/* two-column: avatar | text */
.library-app .lib-hero .profile-card {
  display: grid !important;
  grid-template-columns: auto 1fr !important;
  align-items: center !important;
  justify-content: start !important;
  column-gap: clamp(10px, 1.6vw, 14px) !important;
}

/* avatar back to the left, sane size */
.library-app .lib-hero .profile-card .profile-avatar {
  width: 90px !important;
  height: 90px !important;
  border-radius: 50% !important;
  overflow: hidden !important;
}

/* text block visible + left-aligned */
.library-app .lib-hero .profile-id {
  min-width: 0 !important;
  text-align: left !important;
}

/* name + username: visible and ellipsized if needed */
.library-app .lib-hero .profile-name,
.library-app .lib-hero .profile-handle {
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* keep sizes modest so hero can be shorter */
.library-app .lib-hero .profile-name {
  font-size: clamp(16px, 1.9vw, 20px) !important;
  font-weight: 700 !important;
}
.library-app .lib-hero .profile-handle {
  font-size: clamp(12px, 1.4vw, 14px) !important;
  opacity: 0.9 !important;
}

/* colored bars: ensure they show and don't scale away */
.library-app .lib-hero .profile-bars {
  transform: none !important;          /* undo prior scale */
  margin-top: 6px !important;
  display: flex !important;
  gap: 8px !important;
}

/* if your bars are .bar-1..bar-4, keep them visible */
.library-app .lib-hero .profile-bars > .bar-1,
.library-app .lib-hero .profile-bars > .bar-2,
.library-app .lib-hero .profile-bars > .bar-3,
.library-app .lib-hero .profile-bars > .bar-4 {
  height: 6px !important;
  min-width: 44px !important;          /* keep them from collapsing */
  border-radius: 999px !important;
}

/* Keep everything inside the hero and centered */
.lib-hero {
  overflow: hidden !important;                 /* no spill-out */
  align-items: center !important;              /* vertical centering of grid cells */
}

/* Identity (avatar + name block) never overflows */
.library-app .lib-hero .identity-cell {
  min-width: 0 !important;
  max-width: 100% !important;
}

/* Two-column identity: avatar is fixed, text truncates */
.library-app .lib-hero .profile-card {
  display: grid !important;
  grid-template-columns: auto 1fr !important;
  align-items: center !important;
  column-gap: clamp(10px, 1.6vw, 14px) !important;
  max-width: 100% !important;
}
.library-app .lib-hero .profile-card .profile-avatar {
  width: clamp(72px, 8vw, 90px) !important;
  height: clamp(72px, 8vw, 90px) !important;
  flex: 0 0 auto !important;
}
.library-app .lib-hero .profile-id {
  min-width: 0 !important;
}
.library-app .lib-hero .profile-name,
.library-app .lib-hero .profile-handle {
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* Tabs (the 4 buttons) stay centered and wrap instead of overflowing */
.lib-tabs {
  justify-content: center !important;          /* center horizontally */
  align-items: center !important;
  flex-wrap: wrap !important;                  /* wrap instead of spilling */
  gap: clamp(8px, 1.2vw, 14px) !important;     /* slightly tighter so more fit */
  max-width: 100% !important;
  margin: 0 auto !important;
  padding: 0 !important;
  overflow: hidden !important;                 /* hide any rare overflow artifacts */
}

/* Ensure each tab can shrink without pushing outside */
.lib-tab {
  min-width: 0 !important;
  max-width: 100% !important;
}

/* Safety on narrow screens: stack to avoid overflow */
@media (max-width: 820px) {
  .lib-hero {
    grid-template-columns: 1fr !important;     /* stack identity above tabs */
    row-gap: 10px !important;
  }
}

/* Remove any top spacing from the identity block */
.library-app .lib-hero .identity-cell {
  padding-top: 0 !important;
  margin-top: 0 !important;
}

/* Ensure the card itself doesn't reintroduce spacing */
.library-app .lib-hero .identity-cell .profile-card {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* And its immediate children (name/handle/bars) */
.library-app .lib-hero .identity-cell .profile-card > * {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Bigger name */
.library-app .lib-hero .profile-card .profile-name {
  font-size: clamp(22px, 2.6vw, 25px) !important;
  font-weight: 800 !important;
  line-height: 1.1 !important;
}

/* Username not bold (slightly dimmer) */
.library-app .lib-hero .profile-card .profile-handle {
  font-size: clamp(10px, 2.6vw, 15px) !important;
  font-weight: 400 !important;
  opacity: 0.85 !important;
}

/* Connect the 4 colored bars (no gaps, no rounding) */
.library-app .lib-hero .profile-card .profile-bars,
.library-app .lib-hero .profile-card .bar-row {
  display: flex !important;
  gap: 0 !important;
  align-items: stretch !important;
  overflow: hidden !important; /* ensures edges touch perfectly */
}

/* Each bar: flush edges, zero margins, no radius */
.library-app .lib-hero .profile-card .profile-bars .bar,
.library-app .lib-hero .profile-card .bar-row .bar,
.library-app .lib-hero .profile-card .bar-1,
.library-app .lib-hero .profile-card .bar-2,
.library-app .lib-hero .profile-card .bar-3,
.library-app .lib-hero .profile-card .bar-4 {
  margin: 0 !important;
  border-radius: 0 !important;
  height: 6px !important;         /* keep your size or tweak */
  flex: 1 1 0 !important;          /* equal widths, touching edges */
}

/* Remove any stray spacing the container might add */
.library-app .lib-hero .profile-card .profile-bars > * {
  margin: 0 !important;
}

/* === Tab colors + no font-color change === */
.library-app {
  --bar1: #fc5f2e;
  --bar2: #d81b60;
  --bar3: #6a1b9a;
  --bar4: #1e88e5;
}

/* Hover colors (no text color change) */
.lib-tabs .lib-tab:nth-child(1):hover,
.lib-tabs .lib-tab:nth-child(1):focus-visible {
  background: var(--bar1) !important;
  border-color: transparent !important;
}
.lib-tabs .lib-tab:nth-child(2):hover,
.lib-tabs .lib-tab:nth-child(2):focus-visible {
  background: var(--bar2) !important;
  border-color: transparent !important;
}
.lib-tabs .lib-tab:nth-child(3):hover,
.lib-tabs .lib-tab:nth-child(3):focus-visible {
  background: var(--bar3) !important;
  border-color: transparent !important;
}
.lib-tabs .lib-tab:nth-child(4):hover,
.lib-tabs .lib-tab:nth-child(4):focus-visible {
  background: var(--bar4) !important;
  border-color: transparent !important;
}

/* Keep tab 2 (Library) colored on this page */
.lib-tabs .lib-tab:nth-child(2)[aria-current="page"] {
  background: var(--bar2) !important;
  border-color: transparent !important;
}

/* Fix: prevent the slight hover "lift" from clipping at the top */
.lib-tabs .lib-tab:hover,
.lib-tabs .lib-tab:active,
.lib-tabs .lib-tab:focus-visible {
  transform: none !important;   /* disable the translateY(-1px) lift */
}

/* === Force hover pop for the 4 tabs (no clipping) === */
.library-app .lib-hero { 
  overflow: visible !important; 
}

.library-app .lib-tabs { 
  padding-top: 8px !important;   /* headroom for lift */
  margin-top: -8px !important;   /* visually cancel the headroom */
}

.library-app .lib-tabs .lib-tab {
  position: relative;                    /* so z-index works */
  will-change: transform, filter, box-shadow;
  transition: transform 140ms ease, filter 140ms ease, box-shadow 140ms ease !important;
  transform: translateY(0) !important;   /* baseline */
  box-shadow: none !important;
}

.library-app .lib-tabs .lib-tab:hover,
.library-app .lib-tabs .lib-tab:focus-visible {
  transform: translateY(-4px) scale(1.02) !important;
  filter: brightness(1.06) !important;
  box-shadow: 0 10px 18px rgba(0,0,0,.25) !important;
  z-index: 2;                             /* sit above neighbors while lifted */
}

/* --- Prevent side clipping for lifted tabs --- */
.library-app .lib-tabs {
  overflow: visible !important;          /* allow shadows/scale to extend */
  padding-inline: 10px !important;       /* add side headroom */
  margin-inline: -10px !important;       /* visually cancel the padding */
}

/* Keep each tab above neighbors & safe on edges */
.library-app .lib-tabs .lib-tab {
  position: relative;
  z-index: 0;
  transform-origin: center;              /* avoid growing into edges asymmetrically */
}

.library-app .lib-tabs .lib-tab:hover,
.library-app .lib-tabs .lib-tab:focus-visible {
  z-index: 2;                            /* ensure it paints on top */
  transform: translateY(-4px) scale(1.02) !important;
  box-shadow: 0 10px 18px rgba(0,0,0,.25) !important;
}

/* If any ancestor still clips horizontally, unclip them too */
.library-app .lib-hero,
.library-app .library-left {
  overflow: visible !important;
}


/* --- Kill blinking caret on non-editable UI, keep it for inputs --- */
.library-app *:not(input, textarea, [contenteditable="true"]) {
  caret-color: transparent !important;
}

/* --- Reduce accidental text selection on chrome elements --- */
.library-app .header,
.library-app .lib-hero,
.library-app .lib-tabs,
.library-app .lib-card,
.library-app .lib-line,
.library-app .meta-icon-btn,
.library-app .feature-card,
.library-app .profile-card {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  user-select: none !important;
  cursor: default;
}

/* Keep proper pointer cursor on actual interactive elements */
.library-app a,
.library-app button,
.library-app .lib-tab,
.library-app .meta-icon-btn {
  cursor: pointer !important;
}






/* === Library: add a 6th row for genre under stars === */

/* Tell the card's equal-row math there are 6 rows now */
.library-app .lib-card { --rows: 6; }

/* Make details explicitly define 6 rows (keeps your layout stable) */
.lib-card .lib-details {
  display: grid !important;
  grid-template-rows: auto auto auto auto auto auto !important; /* title, year, author, actions, stars, genre */
  align-content: start !important;
  height: 100% !important;
  min-height: 0 !important;
  overflow: hidden !important; /* keep the card tidy */
}

/* Genre row sits right under the stars; compact, no extra chrome */
.library-app .lib-card .lib-genre-row {
  padding: 0 !important;
  margin: 0 !important;
  border: 0 !important;
  background: transparent !important;
  border-radius: 0 !important;

  display: flex !important;
  align-items: center !important;
  min-height: 18px !important;   /* tiny line */
  line-height: 1 !important;
  overflow: hidden !important;
}

/* Single genre pill — matches FeaturePanel pill vibe, but compact */
.library-app .lib-card .genre-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  line-height: 1;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.14);
  color: #fff;
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* If there is no tag, the row collapses (no extra space) */
.library-app .lib-card .lib-genre-row:empty {
  display: none !important;
}

.library-app .lib-card .genre-pill {
  transition: transform 120ms ease, filter 120ms ease;
}
.library-app .lib-card .genre-pill:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

/* Inline avatar : stars layout */
.library-app .user-rating-inline {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  line-height: 1;
}

/* 16px circular avatar to match the tight row height */
.library-app .user-rating-avatar {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  overflow: hidden;
  display: inline-block;
  flex: 0 0 16px;
  background: #2a2a2a;
}

.library-app .user-rating-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.library-app .user-rating-sep {
  opacity: 0.75;
  font-weight: 600;
  line-height: 1;
}

/* Use this if you want a fixed width for each tab */
.library-app {
  --tab-fixed-w: 132px; /* tweak as you like */
}
.lib-tabs {
  display: flex;
  gap: clamp(10px, 1.6vw, 16px);
  align-items: center;
  padding: 0;
  margin: 0;
  flex-wrap: nowrap;
}
.lib-tabs .lib-tab {
  flex: 0 0 var(--tab-fixed-w); /* identical width */
  width: var(--tab-fixed-w);
  text-align: center;
}

/* OLD – this forces every star to yellow and overrides inline color */
.lib-card .user-stars-row .user-stars-wrap span {
  color: #f2ac15 !important;
}

/* Make sure stars don’t inherit Material Symbols */
.user-stars-wrap,
.user-stars-wrap .user-star {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
  line-height: 1 !important;
}

/* Beat the old yellow rule with higher specificity + !important */
.lib-card .user-stars-row .user-stars-wrap .star-filled { color: #f2ac15 !important; }
.lib-card .user-stars-row .user-stars-wrap .star-empty  { color: #ffffff !important; text-shadow: none !important; }

/* Genre pill: subtle shine sweep on hover */
.genre-pill {
  position: relative;
  overflow: hidden;            /* clip the sheen inside the pill */
  transition: filter 200ms ease;
}

.genre-pill:hover {
  filter: brightness(1.08);    /* tiny lift without moving */
}

/* the sheen */
.genre-pill::after {
  content: "";
  position: absolute;
  inset: -40% -120% -40% -120%;      /* big enough to sweep across */
  background: linear-gradient(
    75deg,
    transparent 0%,
    rgba(255,255,255,0.10) 35%,
    rgba(255,255,255,0.35) 50%,
    rgba(255,255,255,0.10) 65%,
    transparent 100%
  );
  transform: translateX(-60%) rotate(8deg);
  pointer-events: none;              /* clicks pass through */
  opacity: 0;
}

/* run the sweep on hover */
.genre-pill:hover::after {
  animation: pill-shine 700ms ease-out forwards;
  opacity: 1;
}

@keyframes pill-shine {
  from { transform: translateX(-60%) rotate(8deg); }
  to   { transform: translateX(60%)  rotate(8deg); }
}

/* accessibility: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .genre-pill:hover::after { animation: none; opacity: 0.15; }
}

/* --- Genre pill: no hover "pop", keep shine only --- */
.genre-pill,
.genre-pill:hover,
.genre-pill:focus {
  transform: none !important;
  box-shadow: none !important;
  margin-top: 0 !important;
}

/* If any earlier rules nudge it upward on hover, neutralize them */
.genre-pill:hover {
  /* Keep just the subtle brightness; remove motion */
  filter: brightness(1.08);
}

/* Keep the 3-col layout but protect the identity column from collapsing */
.lib-hero {
  display: grid !important;
  grid-template-columns: minmax(360px, max-content) 1fr max-content !important;
  align-items: center;
  column-gap: clamp(8px, 2vw, 24px);
}

/* Identity column must NOT be allowed to shrink to 0 */
.identity-cell {
  min-width: 360px !important;    /* or 380–420px if you prefer */
  overflow: visible !important;
}

/* Make sure the card itself can show all lines */
.profile-card {
  align-items: center !important;
  justify-content: center !important;
  overflow: visible !important;
}

/* Keep tabs single-row and elastic in the middle track */
.lib-tabs {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
  white-space: nowrap;
  gap: clamp(8px, 2vw, 16px);
  padding: 0;
  margin: 0;
  min-width: 0;               /* allow flex to shrink inside the grid track */
  overflow: hidden;           /* avoid wrapping */
}

/* Let tab padding compress slightly when tight on space */
.lib-tab { padding-inline: clamp(8px, 2.2vw, 22px); }

/* On very narrow screens, allow horizontal scrolling rather than wrapping */
@media (max-width: 720px) {
  .lib-tabs {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .lib-tabs::-webkit-scrollbar { display: none; }
}

/* The CTA wrapper already exists; ensure it can anchor menus */
.lib-hero-cta { position: relative; display: flex; gap: 8px; }

/* Icon-only buttons (you already have .lib-cta .lib-cta--icon); keep consistent */
.lib-cta--icon {
  background: transparent;
  border: 0;
  padding: 0;
  line-height: 1;
  cursor: pointer;
  outline: none;
}
.lib-cta--icon .material-symbols-outlined {
  font-size: 28px;   /* same as your filter icon after tweaks */
  line-height: 1;
  display: inline-block;
}


/* Show the blinking caret in the search input */
.lib-search-input {
  caret-color: #ffffff !important; /* pick any color you like */
}

/* Optional: a subtle focus style just for the search input */
.lib-search-input:focus {
  border-color: rgba(255,255,255,0.28);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.08);
  outline: none;
}







/* The CTA wrapper already exists; ensure it can anchor menus */
.lib-hero-cta { position: relative; display: flex; gap: 8px; }

/* Icon-only buttons (you already have .lib-cta .lib-cta--icon); keep consistent */
.lib-cta--icon {
  background: transparent;
  border: 0;
  padding: 0;
  line-height: 1;
  cursor: pointer;
  outline: none;
}
.lib-cta--icon .material-symbols-outlined {
  font-size: 28px;   /* same as your filter icon after tweaks */
  line-height: 1;
  display: inline-block;
}

/* Search popover — mirrors .lib-filter-menu look & placement */
.lib-search-menu,
.lib-filter-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  z-index: 1200;
  background: rgba(20,20,20,0.96);
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 10px 28px rgba(0,0,0,.5);
  min-width: 220px;
}

/* Search input */
.lib-search-input {
  width: 100%;
  box-sizing: border-box;
  background: #0f0f0f;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 8px;
  padding: 10px 36px 10px 12px; /* room for clear button */
  font: inherit;
  outline: none;
}
.lib-search-input::placeholder { color: rgba(255,255,255,0.6); }

/* Clear (×) button inside the field, aligned right */
.lib-search-clear {
  position: absolute;
  right: 12px;
  top: 14px;
  background: transparent;
  border: 0;
  padding: 0;
  line-height: 1;
  cursor: pointer;
  color: rgba(255,255,255,0.85);
}
.lib-search-clear .material-symbols-outlined { font-size: 18px; }

/* Ensure no focus ring/flicker caret on icon buttons */
.lib-cta--icon:focus { outline: none; box-shadow: none; }





/* === Slightly bigger filter icon (only the glyph, no background) === */
.lib-filter-btn .material-symbols-outlined {
  font-size: 30px;            /* was ~24px */
  line-height: 1;
  vertical-align: middle;
  transform: translateY(-2px); /* tiny optical align */
}

/* Keep a comfy click target without adding a box */
.lib-cta.lib-cta--icon.lib-filter-btn {
  padding: 6px;               /* invisible hit area */
}


/* =========================
   Modern search popover styling
   ========================= */

/* Container: subtle glass, soft border */
.lib-search-menu {
  position: absolute; /* keep whatever you used before; can be fixed if needed */
  z-index: 2000;
  background: rgba(18, 18, 18, 0.70);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 12px 32px rgba(0,0,0,0.45);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Search field wrapper so we can place a leading icon */
.lib-search-field {
  position: relative;
}

/* The input: glass pill, smooth focus ring, animated width */
.lib-search-input {
  width: clamp(240px, 32vw, 300px);
  height: 42px;
  padding: 0 14px 0 18px; /* space for icon */
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  font-size: 14px;
  line-height: 42px;
  outline: none;
  transition: border-color 140ms ease, box-shadow 140ms ease, background 140ms ease, width 140ms ease;
  caret-color: #ffffff; /* ensure caret shows here */
}

/* Focus state: subtle lift and ring */
.lib-search-input:focus {
  background: rgba(255, 255, 255, 0.09);
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow: 0 0 0 2px rgba(255,255,255,0.08);
}

/* Placeholder: softer white */
.lib-search-input::placeholder {
  color: rgba(255, 255, 255, 0.55);
}

/* Leading search icon inside the field */
.lib-search-field::before {
  content: "search";
  font-family: "Material Symbols Outlined";
  font-weight: normal;
  font-style: normal;
  font-size: 20px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;

  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.85;
  pointer-events: none;
}

/* Mobile: let it breathe */
@media (max-width: 640px) {
  .lib-search-input {
    width: min(86vw, 460px);
  }
}


.lib-search-field { position: relative; }

/* give input equal padding; text is indented for the left search icon */
.lib-search-field {
  --pad: 14px; --icon-w: 20px; --icon-gap: 8px;
}
.lib-search-input {
  padding: 0 var(--pad);
  text-indent: calc(var(--icon-w) + var(--icon-gap));
}

/* extra right room so the × doesn’t overlap text */
.lib-search-field.has-clear .lib-search-input {
  padding-right: calc(var(--pad) + 20px + 6px); /* pad + close icon + gap */
}

/* place the × at the far right inside the input */
.lib-search-clear--inside {
  position: absolute;
  right: var(--pad);
  top: 50%;
  transform: translateY(-50%);
  appearance: none;
  background: transparent;
  border: 0;
  padding: 0;
  cursor: pointer;
  line-height: 1;
}
.lib-search-clear--inside .material-symbols-outlined {
  font-size: 18px;
  color: rgba(255,255,255,0.85);
  pointer-events: none;
}


/* Restore feature arrows visibility */
aside.library-feature,
aside.library-feature .feature-card,
aside.library-feature .feature-card .feature-cover-row {
  overflow: visible !important;           /* was hidden → clips arrows */
}

.feature-cover-row {
  position: relative;                      /* anchor absolute arrows */
}

/* Base arrow button */
.feature-jump {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 5;                              /* draw above cover */
  pointer-events: auto;                    /* clickable */
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  line-height: 1;
}

/* If you use BEM-ish modifiers, keep both; otherwise keep whichever you have */
.feature-jump--left  { left:  -28px; }
.feature-jump--right { right: -28px; }

/* Make sure the glyph shows and is readable */
.feature-jump .material-symbols-outlined {
  font-size: 28px;
  color: #fff;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.6));
}
