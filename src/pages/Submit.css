:root{
  --pad-x: 28px;
  --rows-gap: 16px;   /* space between rows */
  --rows-pad: 12px;   /* bottom breathing room in left column */
  --tile-gap: 16px;   /* between covers */
}

/* Let Library.css handle app header, hero, feature, two-column grid */

/* Under the hero, use the remaining height for two equal rows */
.library-left {
  /* Library.css already lays this as hero + content; we just ensure no overflow */
  overflow: hidden;
}

.rows{
  padding: 0 var(--pad-x) var(--rows-pad);
  min-height: 0;
  height: 100%;
  display: grid;
  grid-template-rows: 1fr 1fr;   /* equal row heights */
  gap: var(--rows-gap);
  overflow: hidden;              /* no vertical overflow out of left column */
}

/* Each section = header (auto) + rail (1fr) so rail always fits its row */
.subsec{
  min-height: 0;
  display: grid;
  grid-template-rows: auto 1fr;
  overflow: hidden;
}

/* Section header */
.subsec-head{ display: inline-block; }
.subsec-title{
  margin: 0 0 8px;
  font-weight: 800;
  line-height: 1.1;
  font-size: clamp(1.25rem, 2.8vw, 2rem);
  white-space: nowrap;
}
.subsec-bars{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  height: 8px;
}
.bar{ border-radius: 0; }
.b1{ background:#fc5f2e; }
.b2{ background:#d81b60; }
.b3{ background:#6a1b9a; }
.b4{ background:#1e88e5; }

/* Rail consumes the remainder of the section height, no vertical overflow */
.books-rail{
  min-height: 0;
  height: 100%;
  overflow: hidden;
}

/* Track: horizontal scroller that ALWAYS matches rail height */
.books-track{
  display: flex;
  align-items: stretch;          /* tiles inherit the rail height */
  gap: var(--tile-gap);
  height: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}
.books-track::-webkit-scrollbar{ height: 6px; }
.books-track::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.25);
  border-radius: 999px;
}

/* Tiles fill rail height and keep 2:3 ratio; width derives from height */
.book-tile{
  flex: 0 0 auto;                /* no shrinking; scroll horizontally if needed */
  height: 100%;                  /* exactly the rail height */
  aspect-ratio: 2 / 3;           /* width auto-computed from height */
  background: #222 center / cover no-repeat;
  border: 0;
  border-radius: 0;
  margin: 0;
  box-shadow: none;
  cursor: pointer;
}
.book-tile:focus-visible{
  outline: 2px solid rgba(255,255,255,.6);
  outline-offset: 2px;
}

/* Ensure Published really sits in the bottom row (explicit, in case of reordering) */
.subsec.inprogress { grid-row: 1; }
.subsec.published  { grid-row: 2; }

/* clean, safe spacing between colored bar and covers */
.subsec{
  display: grid;
  grid-template-rows: auto 1fr;
  row-gap: 8px;        /* <- the breathing space you want */
  min-height: 0;
  overflow: hidden;
}

.books-track{ padding-bottom: 2px; } /* tiny buffer so the thin scrollbar isn’t cramped */

/* small gap above the first (In Progress) section */
.rows{
  padding-top: 8px; /* tweak to taste (6–12px) */
}

/* ==== Always-visible white slider for book rails ==== */
.books-track{
  overflow-x: scroll;                 /* show bar whenever content overflows */
  scrollbar-width: thin;              /* Firefox thickness */
  scrollbar-color: #fff rgba(255,255,255,.16); /* Firefox: thumb, track */
}

/* WebKit (Chrome/Edge/Safari) */
.books-track::-webkit-scrollbar{
  height: 8px;                        /* thickness */
}
.books-track::-webkit-scrollbar-track{
  background: rgba(255,255,255,.16);  /* subtle dark track */
  border-radius: 999px;
}
.books-track::-webkit-scrollbar-thumb{
  background: #fff;                   /* WHITE slider */
  border-radius: 999px;
  /* optional: softer edges on dark bg */
  box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
}

/* (Remove any previous :hover or :focus-within rules for .books-track scrollbars) */

/* Title + underline behave as one shrink-to-fit block */
.subsec-head{
  display: inline-grid;          /* stack title over bars */
  grid-template-rows: auto auto;
  width: max-content;            /* shrink to the widest child (the title) */
}

/* Title stays as-is */
.subsec-title{
  margin: 0 0 8px;
  font-weight: 800;
  line-height: 1.1;
  font-size: clamp(1.25rem, 2.8vw, 2rem);
  white-space: nowrap;           /* keep single line so underline matches */
}

/* Bars become an underline whose width == title width */
.subsec-bars{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0;
  height: 8px;
  width: 100%;                   /* exactly the same width as the title above */
}

/* keep your colors */
.subsec-bars .bar { border-radius: 0; }
.subsec-bars .b1 { background:#fc5f2e; }
.subsec-bars .b2 { background:#d81b60; }
.subsec-bars .b3 { background:#6a1b9a; }
.subsec-bars .b4 { background:#1e88e5; }

/* default: no scrollbar visuals if there’s no overflow */
.books-track{
  overflow-x: auto;
  scrollbar-width: none;            /* Firefox: hide when not needed */
}
.books-track::-webkit-scrollbar{    /* WebKit: hide when not needed */
  height: 0;
}

/* when overflow exists, style the scrollbar (white thumb) */
.books-track.has-scroll{
  scrollbar-width: thin;                        /* Firefox: show */
  scrollbar-color: #fff rgba(255,255,255,.16);  /* thumb / track */
}
.books-track.has-scroll::-webkit-scrollbar{
  height: 8px;                                  /* visible thickness */
}
.books-track.has-scroll::-webkit-scrollbar-track{
  background: rgba(255,255,255,.16);
  border-radius: 999px;
}
.books-track.has-scroll::-webkit-scrollbar-thumb{
  background: #fff;                              /* white slider */
  border-radius: 999px;
  box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
}

/* default: hide visuals (but keep horizontal scrolling) */
.books-track{
  overflow-x: auto;
  scrollbar-width: none;                /* Firefox hidden by default */
}
.books-track::-webkit-scrollbar{ height: 0; }   /* WebKit hidden */

/* show when needed (overflow detected) OR explicitly forced */
.books-track.has-scroll,
.books-track.force-scrollbar{
  scrollbar-width: thin;                              /* Firefox show */
  scrollbar-color: #fff rgba(255,255,255,.16);        /* thumb / track */
}
.books-track.has-scroll::-webkit-scrollbar,
.books-track.force-scrollbar::-webkit-scrollbar{
  height: 8px;
}
.books-track.has-scroll::-webkit-scrollbar-track,
.books-track.force-scrollbar::-webkit-scrollbar-track{
  background: rgba(255,255,255,.16);
  border-radius: 999px;
}
.books-track.has-scroll::-webkit-scrollbar-thumb,
.books-track.force-scrollbar::-webkit-scrollbar-thumb{
  background: #fff;
  border-radius: 999px;
  box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
}

.add-book-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  font-weight: 700;
  font-size: 0.95rem;
  line-height: 1;
  border-radius: 999px;
  border: 0;
  cursor: pointer;
  color: #111;
  background: #fff;
  transition: transform 120ms ease, box-shadow 120ms ease, opacity 120ms ease;
}

.add-book-btn:hover{ transform: translateY(-1px); }
.add-book-btn:active{ transform: translateY(0); opacity: 0.9; }
.add-book-btn:focus-visible{ outline: 2px solid rgba(255,255,255,.6); outline-offset: 2px; }

.add-book-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* Bigger, bolder button */
  padding: 14px 32px;
  font-weight: 800;
  font-size: 1.05rem;
  letter-spacing: 0.4px;

  border: none;
  border-radius: 999px;
  cursor: pointer;

  color: #ffffff;
  background-color: #1e88e5;
  box-shadow: 0 4px 14px rgba(0,0,0,0.25);
  transition: transform 120ms ease, box-shadow 120ms ease, opacity 120ms ease;
}

.add-book-btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.32);
}

.add-book-btn:active{
  transform: translateY(0);
  opacity: 0.9;
}

.add-book-btn:focus-visible{
  outline: 2px solid #fff;
  outline-offset: 3px;
}

/* Trailing "Add book" tile — scoped to In Progress only for safety */
.subsec.inprogress .books-track .book-add{
  /* same sizing as books */
  flex: 0 0 auto;
  height: 100%;
  aspect-ratio: 2 / 3;

  /* lighter than background, clear affordance */
  background: rgba(255,255,255,0.08);
  border: 0;
  border-radius: 0;
  position: relative;
  cursor: pointer;

  /* subtle separation like other tiles */
  box-shadow: none;
}

/* centered white + */
.subsec.inprogress .books-track .book-add::before{
  content: "+";
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-size: clamp(24px, 6vmin, 44px);
  font-weight: 800;
  line-height: 1;
  color: #fff;
  pointer-events: none;
}

/* hover/active/focus states */
.subsec.inprogress .books-track .book-add:hover{
  background: rgba(255,255,255,0.12);
}
.subsec.inprogress .books-track .book-add:active{
  background: rgba(255,255,255,0.16);
}
.subsec.inprogress .books-track .book-add:focus-visible{
  outline: 2px solid rgba(255,255,255,.6);
  outline-offset: 3px;
}

/* In-Progress trailing "Add book" tile */
.subsec.inprogress .books-track .book-add{
  /* same size as a book cover */
  flex: 0 0 auto;
  height: 100%;
  aspect-ratio: 2 / 3;

  /* reset any inherited spacing */
  padding: 0;
  margin: 0;
  border: 0;
  border-radius: 0;

  /* visual */
  background: rgba(255,255,255,0.10);
  cursor: pointer;
  position: relative;

  /* perfect centering for the + */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Big, perfectly centered + */
.subsec.inprogress .books-track .book-add::before{
  content: "+";
  font-weight: 700;
  line-height: 1;
  /* Bigger symbol */
  font-size: clamp(44px, 9vmin, 84px);
  color: #fff;
  /* subtle inner edge so it pops on any cover shade */
  text-shadow: 0 0 2px rgba(0,0,0,.45);
  pointer-events: none;
}

/* states */
.subsec.inprogress .books-track .book-add:hover{
  background: rgba(255,255,255,0.14);
}
.subsec.inprogress .books-track .book-add:active{
  background: rgba(255,255,255,0.18);
}
.subsec.inprogress .books-track .book-add:focus-visible{
  outline: 2px solid rgba(255,255,255,.6);
  outline-offset: 3px;
}

/* Add-book card in Submit page grid */
.lib-card-add {
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
}

.lib-cover-add {
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.10);
  display: flex;
  align-items: center;
  justify-content: center;
}

.lib-cover-add-plus {
  font-size: clamp(44px, 9vmin, 84px);
  font-weight: 800;
  line-height: 1;
  color: #fff;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.45);
}


/* --- Make Submit feature panel fill the full right column --- */

aside.library-feature {
  display: flex;
  align-items: stretch;
}

/* Root of the Submit feature panel inside the right column */
aside.library-feature .submit-feature-shell {
  flex: 1 1 auto;
  width: 100% !important;
  max-width: none !important;
  margin: 0 !important;
  box-sizing: border-box;
}

/* Just in case older styles centered/narrowed rm-shell somewhere */
aside.library-feature .rm-shell {
  width: 100% !important;
  max-width: none !important;
  margin: 0 !important;
}

/* ACTIVE TAB STYLING OVERRIDE ------------------------------------ */

/* In progress = orange */
.lib-tab.is-active:nth-child(1) {
  background-color: #ef5623 !important;   /* your standard orange */
  color: white !important;
  border-color: #ef5623 !important;
}

/* Published = keep the purple (already correct) */
.lib-tab.is-active:nth-child(2) {
  background-color: #d81b60 !important;   /* your purple */
  color: white !important;
  border-color: #d81b60 !important;
}


/* When no book is selected */
.submit-feature-shell {
  display: flex;
  justify-content: center;   /* horizontal centering */
  align-items: center;       /* vertical centering */
  height: 100%;
  width: 100%;
  background: black !important;   /* always black */
}

/* Inner placeholder */
.submit-feature-shell .rm-shell {
  text-align: center;
  background: transparent !important;
}

.submit-feature-shell .brand-mark {
  color: white;
  font-size: 2rem;
  opacity: 0.7;
}

/* Always black panel */
.library-feature {
  background: black !important;
}

.submit-feature-shell,
.submit-feature-shell .rm-shell,
.submit-feature-shell .rm-middle,
.submit-feature-shell .rm-actions {
  background: black !important;
}

.rm-shell.empty {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background: black !important;
  padding: 0;
}

/* Center the PickMe! placeholder ONLY when no book is selected */
.submit-feature-shell.is-empty {
  width: 100%;
  height: 100%;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Make sure the inner shell doesn't fight the centering */
.submit-feature-shell.is-empty .rm-shell {
  background: transparent;
  box-shadow: none;
  border: none;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* PickMe! logo styling in empty state */
.submit-feature-shell.is-empty .brand-mark {
  color: #fff;
  font-size: 2rem;
  opacity: 0.85;
  text-align: center;
}

.submit-feature-shell .meta-actions {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-evenly; /* or center */
  gap: 28px;
  width: 100%;
  margin: 16px 0;
}

/* Prevent shrinking */
.submit-feature-shell .meta-actions > * {
  flex: 0 0 auto;
}
/* ============================
   Submit Feature Panel: Profile-like center block
   (scoped so it won't affect Profile page)
============================ */

/* stack under cover */
.submit-feature-shell .submit-feature-info{
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  margin-top: 14px;
}

/* thin separators like Profile */
.submit-feature-shell .meta-hr{
  border: 0;
  height: 1px;
  background: rgba(255,255,255,0.14);
  margin: 14px 0;
}

/* Author row (avatar + name) */
.submit-feature-shell .feature-author{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

/* Avatar link */
.submit-feature-shell .meta-avatar-link{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
}

/* Small avatar circle */
.submit-feature-shell .meta-avatar--sm{
  width: 28px;
  height: 28px;
  border-radius: 999px;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.18);
}

.submit-feature-shell .meta-avatar--sm img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Username link */
.submit-feature-shell .meta-username{
  text-decoration: none;
  color: rgba(255,255,255,0.9);
  font-weight: 700;
  font-size: 14px;
}

/* Buttons row: 4 columns, centered */
.submit-feature-shell .meta-actions{
  width: 100%;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  align-items: center;
  justify-items: center;
  gap: 0;
  padding: 6px 0;
}

/* Make sure each component has room + doesn't collapse */
.submit-feature-shell .meta-actions > *{
  min-width: 54px;
  display: inline-flex;
  justify-content: center;
}

/* Make icons/labels visible on black */
.submit-feature-shell .meta-actions,
.submit-feature-shell .meta-actions *{
  color: #fff;
  fill: #fff;
}

/* Chapters + tags alignment like Profile center */
.submit-feature-shell .align-left{
  width: 100%;
  display: flex;
  justify-content: center;
  text-align: center;
}

.submit-feature-shell .meta-chapters{
  margin: 0;
  font-weight: 800;
  font-size: 16px;
  color: rgba(255,255,255,0.95);
}

/* Tags row */
.submit-feature-shell .meta-tags-block{
  width: 100%;
  display: flex;
  justify-content: center;
}

.submit-feature-shell .meta-tags{
  list-style: none;
  padding: 0;
  margin: 0;
  display: inline-flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.submit-feature-shell .meta-tags--outline li{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  color: rgba(255,255,255,0.88);
  font-size: 13px;
  font-weight: 700;
}

/* ===== Submit feature panel: profile row + separators + actions ===== */

.submit-feature-shell .meta-hr{
  border: 0;
  height: 1px;
  background: rgba(255,255,255,0.14);
  margin: 14px 0;
}

/* Author row */
.submit-feature-shell .feature-author{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.submit-feature-shell .meta-avatar-link{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
}

.submit-feature-shell .meta-avatar--sm{
  width: 28px;
  height: 28px;
  border-radius: 999px;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.18);
}

.submit-feature-shell .meta-avatar--sm img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.submit-feature-shell .meta-username{
  text-decoration: none;
  color: rgba(255,255,255,0.92);
  font-weight: 700;
  font-size: 14px;
}

/* 4 buttons in one row */
.submit-feature-shell .meta-actions{
  width: 100%;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  align-items: center;
  justify-items: center;
  margin: 0;
  padding: 6px 0;
}

.submit-feature-shell .meta-actions > *{
  min-width: 56px;
  display: inline-flex;
  justify-content: center;
}

/* make icons visible on dark bg */
.submit-feature-shell .meta-actions,
.submit-feature-shell .meta-actions *{
  color: #fff;
  fill: #fff;
}

/* chapters + tags centered */
.submit-feature-shell .align-left{
  width: 100%;
  display: flex;
  justify-content: center;
  text-align: center;
}

.submit-feature-shell .meta-chapters{
  margin: 0;
  font-weight: 800;
  font-size: 16px;
}

.submit-feature-shell .meta-tags-block{
  width: 100%;
  display: flex;
  justify-content: center;
}

.submit-feature-shell .meta-tags{
  list-style: none;
  padding: 0;
  margin: 0;
  display: inline-flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.submit-feature-shell .meta-tags--outline li{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  color: rgba(255,255,255,0.88);
  font-size: 13px;
  font-weight: 700;
}

/* ================================
   Submit feature panel layout v2
   - Top fixed (title + cover)
   - Middle flexible (metadata)
   - Bottom fixed (Edit/Preview/Publish)
================================== */

.library-feature,
.submit-feature-shell,
.submit-feature-shell .rm-shell{
  height: 100%;
}

/* Make rm-shell a 3-row layout */
.submit-feature-shell .rm-shell{
  display: grid;
  grid-template-rows: auto 1fr auto; /* top, middle, bottom */
  gap: 0;
  padding-bottom: 0;
}

/* ----- TOP (title + cover) stays stable ----- */
.submit-feature-shell .rm-title{
  margin: 18px 18px 12px;
  text-align: center;
}

.submit-feature-shell .rm-middle{
  /* middle contains cover + meta blocks,
     but cover should stay stable too */
  display: grid;
  grid-template-rows: auto 1fr; /* cover, metadata */
  align-items: start;
  gap: 12px;
  padding: 0 18px;
  min-height: 0; /* IMPORTANT for the 1fr to shrink */
}

/* Keep cover stable */
.submit-feature-shell .rm-cover-btn{
  display: flex;
  justify-content: center;
}

.submit-feature-shell .rm-cover-box{
  width: min(320px, 70%);
  aspect-ratio: 2 / 3;
  max-height: 46vh; /* keeps it from pushing buttons off-screen */
  overflow: hidden;
}

/* ----- MIDDLE (metadata) is the only scroll/shrink zone ----- */
/* We add a classless targeting approach: all the meta rows are under rm-middle */
.submit-feature-shell .feature-author,
.submit-feature-shell .meta-actions,
.submit-feature-shell .align-left,
.submit-feature-shell .meta-tags-block{
  flex-shrink: 1;
}

.submit-feature-shell .feature-author{
  margin-top: 6px;
}

/* Make separators tighter (less vertical waste) */
.submit-feature-shell .meta-hr{
  margin: 10px 0;
  opacity: 0.65;
}

/* Make meta-actions row tighter */
.submit-feature-shell .meta-actions{
  padding: 2px 0;
  margin: 0;
}

/* Slightly smaller icons/counts in the feature panel (only) */
.submit-feature-shell .meta-icon-btn .meta-icon-glyph,
.submit-feature-shell .comment-btn .meta-icon-glyph,
.submit-feature-shell .star-btn .meta-icon-glyph{
  font-size: 28px;
}

/* counts smaller */
.submit-feature-shell .meta-icon-count{
  font-size: 12px;
  margin-top: 6px;
}

/* Keep chapters tighter */
.submit-feature-shell .meta-chapters{
  font-size: 15px;
  margin: 0;
}

/* If the viewport is short, compress further */
@media (max-height: 740px){
  .submit-feature-shell .rm-cover-box{ max-height: 38vh; }
  .submit-feature-shell .meta-hr{ margin: 8px 0; }
  .submit-feature-shell .meta-icon-count{ font-size: 11px; }
}


/* ----- BOTTOM BUTTONS pinned and never pushed off ----- */
.submit-feature-shell .rm-actions{
  padding: 14px 18px 18px;
  margin-top: 0;
  position: sticky;
  bottom: 0;
  background: #000; /* keeps it clean over content */
  z-index: 2;
}

/* Keep equal button sizes and spacing */
.submit-feature-shell .rm-actions .rm-btn{
  width: 100%;
}

/* =========================================
   SUBMIT FEATURE PANEL — polished layout
   Top fixed (title + cover)
   Middle flexible (author + actions + chapters + genres)
   Bottom pinned (Edit/Preview/Publish)
========================================= */

.library-feature,
.submit-feature-shell,
.submit-feature-shell .rm-shell{
  height: 100%;
}

/* 3-zone layout */
.submit-feature-shell .rm-shell{
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-items: stretch;
  padding: 0;
  background: #000;
}

/* ---------- TOP: Title + cover ---------- */
.submit-feature-shell .rm-title{
  margin: 18px 18px 10px;
  text-align: center;
  font-size: clamp(18px, 2.2vw, 26px);
  line-height: 1.15;
}

.submit-feature-shell .rm-middle{
  display: grid;
  grid-template-rows: auto 1fr; /* cover, meta */
  gap: 12px;
  padding: 0 18px;
  min-height: 0;               /* critical */
  justify-items: center;       /* centers cover + meta block */
}

/* Keep cover centered and stable */
.submit-feature-shell .rm-cover-btn{
  display: flex;
  justify-content: center;
  width: 100%;
}

.submit-feature-shell .rm-cover-box{
  width: min(340px, 72%);
  aspect-ratio: 2 / 3;
  max-height: 42vh;
  overflow: hidden;
}

/* ---------- MIDDLE: everything centered + compact ---------- */
.submit-feature-shell .submit-feature-info,
.submit-feature-shell .rm-meta{
  width: 100%;
  max-width: 420px;          /* keeps it tidy on wide screens */
  min-height: 0;
  display: grid;
  justify-items: center;
  text-align: center;
}

/* separators: thinner + tighter */
.submit-feature-shell .meta-hr{
  width: 100%;
  border: 0;
  border-top: 1px solid rgba(255,255,255,0.18);
  margin: 10px 0;
}

/* Author row: smaller + centered */
.submit-feature-shell .feature-author{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.submit-feature-shell .meta-avatar--sm{
  width: 22px;
  height: 22px;
}

.submit-feature-shell .feature-author-name,
.submit-feature-shell .meta-username{
  font-size: 16px;           /* smaller */
  font-weight: 800;
  line-height: 1;
  color: rgba(255,255,255,0.92);
  text-decoration: none;
}

/* ---------- Meta actions: one row, centered ---------- */
.submit-feature-shell .meta-actions{
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-start;
  gap: 34px;
  width: 100%;
  margin: 2px 0;
}

/* ensure all 4 can render (no wrapping weirdness) */
.submit-feature-shell .meta-actions > *{
  flex: 0 0 auto;
  min-width: 0;
}

/* Icons slightly smaller + consistent */
.submit-feature-shell .meta-icon-btn .meta-icon-glyph,
.submit-feature-shell .comment-btn .meta-icon-glyph,
.submit-feature-shell .star-btn .meta-icon-glyph{
  font-size: 30px;
  line-height: 1;
}

/* counts smaller */
.submit-feature-shell .meta-icon-count{
  font-size: 12px;
  margin-top: 6px;
}

/* Chapters centered + tidy */
.submit-feature-shell .align-left{
  width: 100%;
  display: flex;
  justify-content: center;
}

.submit-feature-shell .meta-chapters{
  margin: 0;
  font-size: 15px;
  font-weight: 800;
  color: rgba(255,255,255,0.92);
}

/
/* ---------- BOTTOM: CTA buttons pinned + BIG ---------- */
.submit-feature-shell .rm-actions{
  padding: 16px 18px 18px;
  background: #000;
  position: sticky;
  bottom: 0;
  z-index: 5;

  display: grid;
  gap: 10px;
}

/* "as large as possible" = full width + big padding */
.submit-feature-shell .rm-actions .rm-btn{
  width: 100% !important;
  max-width: none !important;

  padding: 16px 14px !important;
  font-size: 16px !important;
  font-weight: 900 !important;
  letter-spacing: 0.3px;
  border-radius: 0 !important; /* keep your squared look */
}

/* Slightly tighter on very short screens */
@media (max-height: 720px){
  .submit-feature-shell .rm-cover-box{ max-height: 36vh; }
  .submit-feature-shell .meta-actions{ gap: 28px; }
  .submit-feature-shell .rm-actions .rm-btn{ padding: 14px 12px !important; }
}

/* ============================
   FIX: feature panel alignment
   - title smaller
   - actions centered + bigger
   - keep whole panel centered
============================ */

/* Make the panel content a centered column */
.submit-feature-shell .rm-shell{
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-items: center;            /* centers grid children vertically in their rows */
  justify-items: center;          /* centers grid children horizontally */
}

/* Ensure title doesn't span full width and get huge */
.submit-feature-shell .rm-title{
  width: 100%;
  max-width: 460px;
  text-align: center;
  margin: 16px 18px 10px;

  /* smaller */
  font-size: clamp(16px, 1.6vw, 22px);
  line-height: 1.15;
}

/* Center cover + clamp size */
.submit-feature-shell .rm-middle{
  width: 100%;
  display: grid;
  grid-template-rows: auto 1fr;
  justify-items: center;
  align-items: start;
  gap: 12px;
  padding: 0 18px;
  min-height: 0;
}

.submit-feature-shell .rm-cover-box{
  width: min(320px, 70%);
  aspect-ratio: 2 / 3;
  max-height: 40vh;
}

/* Keep the metadata column constrained + centered */
.submit-feature-shell .submit-feature-info,
.submit-feature-shell .rm-meta{
  width: 100%;
  max-width: 460px;     /* critical: prevents spreading */
  justify-self: center;
  align-self: start;
  text-align: center;
  display: grid;
  justify-items: center;
  min-height: 0;
}

/* Tight separators */
.submit-feature-shell .meta-hr{
  width: 100%;
  border: 0;
  border-top: 1px solid rgba(255,255,255,0.18);
  margin: 10px 0;
}

/* Author row smaller + centered */
.submit-feature-shell .feature-author{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.submit-feature-shell .meta-avatar--sm{
  width: 22px;
  height: 22px;
}

.submit-feature-shell .feature-author-name,
.submit-feature-shell .meta-username{
  font-size: 15px;      /* smaller */
  font-weight: 800;
  line-height: 1;
}

/* ============================
   ACTIONS ROW: BIG + ONE LINE + CENTERED
============================ */

/* Use a "shrink-to-fit" row so icons don't spread across the whole panel */
.submit-feature-shell .meta-actions{
  display: inline-flex;           /* shrink to content width */
  justify-content: center;
  align-items: flex-start;
  gap: 34px;                      /* tighter spacing */
  margin: 2px 0;
  width: auto;                    /* prevents full-width spreading */
}

/* Make each action a consistent width so row stays clean */
.submit-feature-shell .meta-actions > *{
  flex: 0 0 auto;
}

/* BIG icons (as big as possible but still one row) */
.submit-feature-shell .meta-icon-btn .meta-icon-glyph,
.submit-feature-shell .comment-btn .meta-icon-glyph,
.submit-feature-shell .star-btn .meta-icon-glyph{
  font-size: 38px;                /* bigger */
  line-height: 1;
}

/* Keep counts readable but compact */
.submit-feature-shell .meta-icon-count{
  font-size: 12px;
  margin-top: 6px;
}

/* On narrow widths, slightly reduce icon size to keep one line */
@media (max-width: 980px){
  .submit-feature-shell .meta-actions{ gap: 26px; }
  .submit-feature-shell .meta-icon-btn .meta-icon-glyph,
  .submit-feature-shell .comment-btn .meta-icon-glyph,
  .submit-feature-shell .star-btn .meta-icon-glyph{
    font-size: 34px;
  }
}
@media (max-width: 860px){
  .submit-feature-shell .meta-actions{ gap: 18px; }
  .submit-feature-shell .meta-icon-btn .meta-icon-glyph,
  .submit-feature-shell .comment-btn .meta-icon-glyph,
  .submit-feature-shell .star-btn .meta-icon-glyph{
    font-size: 30px;
  }
}

/* Chapters centered */
.submit-feature-shell .align-left{
  width: 100%;
  display: flex;
  justify-content: center;
}
.submit-feature-shell .meta-chapters{
  margin: 0;
  font-size: 15px;
  font-weight: 800;
}



/* ============================
   HARD CENTER: everything between title and bottom buttons
============================ */

/* The entire "middle" area becomes a centered flex column */
.submit-feature-shell .rm-middle{
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;      /* center children horizontally */
  justify-content: flex-start !important;
  width: 100% !important;
}

/* Constrain the whole metadata stack to a centered column */
.submit-feature-shell .submit-feature-info{
  width: 100% !important;
  max-width: 420px !important;         /* adjust if you want wider */
  margin: 0 auto !important;           /* centers the whole block */
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;       /* centers rows inside */
  text-align: center !important;
}

/* Make every direct section inside the stack centered */
.submit-feature-shell .submit-feature-info > *{
  width: 100% !important;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* HRs should be centered and not full-bleed */
.submit-feature-shell .submit-feature-info .meta-hr{
  width: 100% !important;
  max-width: 420px !important;
  margin: 10px 0 !important;
  display: block !important;
}

/* Author row already flex, but enforce center */
.submit-feature-shell .submit-feature-info .feature-author{
  width: 100% !important;
  justify-content: center !important;
}

/* Actions row must NOT stretch full width (prevents drifting) */
.submit-feature-shell .submit-feature-info .meta-actions{
  width: auto !important;              /* key: don't take full width */
  display: inline-flex !important;
  justify-content: center !important;
  align-items: flex-start !important;
}

/* Chapters row: true centered text */
.submit-feature-shell .submit-feature-info .meta-chapters{
  width: 100% !important;
  text-align: center !important;
}

/* Tags/pills row centered */
.submit-feature-shell .submit-feature-info .meta-tags-block{
  width: 100% !important;
  display: flex !important;
  justify-content: center !important;
}
.submit-feature-shell .submit-feature-info ul.meta-tags.meta-tags--outline{
  justify-content: center !important;
}

/* =========================================================
   FORCE the 4 action buttons to span full width + be BIG
   (wins against earlier rules)
========================================================= */

/* Make the container row full width and split into 4 equal lanes */
.submit-feature-shell .meta-actions{
  width: 100% !important;
  max-width: 520px !important;     /* widen a bit so they can grow */
  margin: 12px auto !important;
  display: grid !important;
  grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  justify-items: center !important;
  align-items: start !important;
  gap: 0 !important;
}

/* Each button (or wrapper) fills its lane */
.submit-feature-shell .meta-actions > *{
  width: 100% !important;
  display: flex !important;
  justify-content: center !important;
}

/* Make the clickable buttons fill the lane and center their contents */
.submit-feature-shell .meta-actions .meta-icon-btn,
.submit-feature-shell .meta-actions .comment-btn,
.submit-feature-shell .meta-actions .star-btn{
  width: 100% !important;
  min-width: 0 !important;
  padding: 6px 0 !important;       /* more breathing room */
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}

/* BIG icons — covers Like/Save buttons + Comment/Star implementations */
.submit-feature-shell .meta-actions .meta-icon-glyph,
.submit-feature-shell .meta-actions .material-symbols-outlined{
  font-size: 52px !important;       /* bigger */
  line-height: 1 !important;
}

/* If CommentButton / StarButton use SVG icons */
.submit-feature-shell .meta-actions svg{
  width: 52px !important;
  height: 52px !important;
}

/* Counts slightly larger + spaced */
.submit-feature-shell .meta-actions .meta-icon-count{
  margin-top: 8px !important;
  font-size: 13px !important;
  line-height: 1 !important;
}

/* IMPORTANT: remove the earlier “inline-flex width:auto” behavior */
.submit-feature-shell .submit-feature-info .meta-actions{
  width: 100% !important;
  display: grid !important;
}

/* =========================================
   COMPRESS MIDDLE SECTION (2px spacing)
   Between cover and bottom buttons only
========================================= */

/* Reduce overall middle padding */
.submit-feature-shell .rm-middle{
  padding-top: 2px !important;
  padding-bottom: 2px !important;
  gap: 2px !important;
}

/* Remove extra vertical margins */
.submit-feature-shell .submit-feature-info{
  gap: 2px !important;
}

/* Author row */
.submit-feature-shell .feature-author{
  margin: 2px 0 !important;
}

/* Action buttons row */
.submit-feature-shell .meta-actions{
  margin: 2px 0 !important;
  padding: 0 !important;
}

/* Counts under icons */
.submit-feature-shell .meta-icon-count{
  margin-top: 2px !important;
}

/* Chapters */
.submit-feature-shell .meta-chapters{
  margin: 2px 0 !important;
}

/* Genre pills block */
.submit-feature-shell .meta-tags-block{
  margin: 2px 0 !important;
}

/* Pills tighter */
.submit-feature-shell ul.meta-tags.meta-tags--outline{
  gap: 6px !important;
  margin: 2px 0 !important;
}

.submit-feature-shell ul.meta-tags.meta-tags--outline > li{
  padding: 4px 8px !important;
}

/* Tighten separators */
.submit-feature-shell .meta-hr{
  margin: 2px 0 !important;
}

/* ============================================================
   ONLY CHANGE: SUBMIT FEATURE GENRE PILLS
   Make them behave EXACTLY like the main page pill.
   (same sizing + same shine, and remove the <li> capsule)
============================================================ */

/* remove the capsule created by .meta-tags--outline li */
.submit-feature-shell .meta-tags--outline li{
  padding: 0 !important;
  margin: 0 !important;
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background: transparent !important;
  color: inherit !important;
  font-size: inherit !important;
  font-weight: inherit !important;
  display: contents !important; /* key: no encasing box */
}

/* EXACT clone of .library-app .lib-card .genre-pill */
.submit-feature-shell .genre-pill{
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  font-size: 11px !important;
  line-height: 1 !important;
  font-weight: 600 !important;
  padding: 4px 8px !important;
  border-radius: 999px !important;
  background: rgba(255, 255, 255, 0.08) !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  color: #fff !important;
  white-space: nowrap !important;
  max-width: 100% !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;

  position: relative !important;
  overflow: hidden !important;
  transition: transform 120ms ease, filter 120ms ease !important;
}

/* prevent any “button” effects from elsewhere */
.submit-feature-shell .genre-pill,
.submit-feature-shell .genre-pill:hover,
.submit-feature-shell .genre-pill:focus{
  transform: none !important;
  box-shadow: none !important;
  margin-top: 0 !important;
}

/* same shine as main page */
.submit-feature-shell .genre-pill::after{
  content: "" !important;
  position: absolute !important;
  inset: -40% -120% -40% -120% !important;
  background: linear-gradient(
    75deg,
    transparent 0%,
    rgba(255, 255, 255, 0.10) 35%,
    rgba(255, 255, 255, 0.35) 50%,
    rgba(255, 255, 255, 0.10) 65%,
    transparent 100%
  ) !important;
  transform: translateX(-60%) rotate(8deg) !important;
  pointer-events: none !important;
  opacity: 0 !important;
}

.submit-feature-shell .genre-pill:hover{
  filter: brightness(1.08) !important;
}

.submit-feature-shell .genre-pill:hover::after{
  animation: pill-shine 700ms ease-out forwards !important;
  opacity: 1 !important;
}

/* reuse same keyframes name as main page */
@keyframes pill-shine{
  from { transform: translateX(-60%) rotate(8deg); }
  to   { transform: translateX(60%)  rotate(8deg); }
}